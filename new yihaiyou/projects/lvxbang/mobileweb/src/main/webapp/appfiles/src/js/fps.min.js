!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="http://img1.tuniucdn.com/site/m2015/js/modules/index/dist/",e(0)}([function(t,e,i){i(1),t.exports=i(15)},function(t,e,i){!function(){var t=[i(2),i(4),i(5),i(6),i(8),i(9),i(10),i(11),i(12),i(13),i(14)];(function(t,e,i,n,o,a,r,s,l,c,d){var u=window.location.host;0!=u.indexOf("dynamic")&&(u="dynamic."+u),u="http://"+u;var p={tel:"",init:function(t){this.storedCityInfor=t,this.initBannerSlide(),this.initCategorySlide(),this.initFooter(),this.initCountdown(),this.initMarquee(),this.initService(),this.initUser(),this.lazyloadBgImage(),this.initProductRecommend(),this.initBackToTop(),this.initTel(),this.initWXShare(),window.PERFORMANCE&&window.d&&(window.PERFORMANCE.r=(new Date).getTime()-window.d.getTime())},initBannerSlide:function(){if(document.getElementById("J_banner-pagenavi")){for(var i=0,n=document.getElementById("J_banner-pagenavi").getElementsByTagName("a"),o=t("#J_banner-slider img"),a=0;a<n.length;a++)!function(t){n[a].onclick=function(){var e=o.eq(t);if(r.slide(t),e.attr("data-src")){var i=e.attr("data-src");e.removeAttr("data-src").attr("src",i)}return!1}}(a);var r=new e(document.getElementById("J_banner-slider"),{speed:600,auto:6e3,continuous:!0,disableScroll:!1,stopPropagation:!1,callback:function(t){n[t]||(t-=2),n[i].className="",i=t,n[i].className="active";var e=o.eq(t),a=o.eq(t+1);e.attr("data-src")&&e.attr("src",e.attr("data-src")).removeAttr("data-src"),a.attr("data-src")&&a.attr("src",a.attr("data-src")).removeAttr("data-src")}});setTimeout(function(){var t=o.eq(1),e=t.attr("data-src");e&&t.removeAttr("data-src").attr("src",e)},2e3)}},initCategorySlide:function(){function i(e){e.each(function(e,i){var n=t(i);if(n.attr("data-src")){var o=n.attr("data-src");n.removeAttr("data-src").attr("src",o)}})}if(document.getElementById("J_category-slider")){var n=t("#J_category-pagenavi a"),o=new e(document.getElementById("J_category-slider"),{speed:600,continuous:!1,disableScroll:!1,stopPropagation:!1,callback:function(e){n.removeClass().eq(e).addClass("active"),i(t("#J_category-slider img"))}});n.on("click",function(){var e=t(this).index();o.slide(e)})}},initCountdown:function(){function e(){a.hide(),o.addClass("no-count")}function i(t){return t>9?t:"0"+t}function n(){if(l){var t=l-Date.now(),o=Math.floor(t/1e3/60/60/24),f=Math.floor(t%864e5/1e3/60/60),h=Math.floor(t%36e5/1e3/60),m=Math.floor(t%6e4/1e3);a.removeClass("countdown-init"),t>0?(c.html(i(o)),d.html(i(f)),u.html(i(h)),p.html(i(m)),setTimeout(n,1e3)):l==r&&s>l?(l=s,setTimeout(n,1e3)):e()}}var o=t(".J_countdown-specials"),a=o.find(".J_countdown-ctn");if(!a.attr("data-promotionStartTime")||!a.attr("data-promotionDeadline"))return void e();var r=new Date(a.attr("data-promotionStartTime").replace(/-/g,"/")).getTime(),s=new Date(a.attr("data-promotionDeadline").replace(/-/g,"/")).getTime(),l=null,c=a.find(".countdown-day"),d=a.find(".countdown-hour"),u=a.find(".countdown-minute"),p=a.find(".countdown-second"),f=Date.now();r&&s?f>s||r>f?e():f>r?(l=s,n()):(l=r,n()):e()},initMarquee:function(){function e(t){function e(){o.css("-webkit-transition","-webkit-transform "+f+" ease-in-out"),o.css("transition","transform "+f+" ease-in-out"),o.on("webkitTransitionEnd",function(t){i()}),o.on("transitionend",function(t){i()}),l&&setTimeout(function(){var e=o.find(t.item).eq(1).find("img");if(e.attr("data-src")){var i=e.attr("data-src");e.removeAttr("data-src").attr("src",i)}},h>2e3?h-1e3:0)}function i(){var e=o.find(t.item).first();o.append(e.clone()),e.remove(),r?o.css("position","relative").css("top",m*d+"px"):o.css("position","relative").css("left",m*d+"px"),l&&setTimeout(function(){var e=o.find(t.item).eq(1).find("img");if(e.attr("data-src")){var i=e.attr("data-src");e.removeAttr("data-src").attr("src",i)}},0)}function n(){m++,o.css("-webkit-transform",s+"(-"+m*d+"px)"),o.css("transform",s+"(-"+m*d+"px)")}var o=t.container,a=t.direction||"vertical",r="vertical"===a,s=r?"translateY":"translateX",l=t.lazyload||!1,c=o.find(t.item),d=0,u=c.length,p=t.speed||500,f=p/1e3+"s",h=t.interval||5e3,m=0;return c.length&&(d=r?c.offset().height:c.offset().width),{start:function(){u>1&&(e(),setInterval(n,h+p))}}}t('[data-role="marquee"]').each(function(i,n){e({container:t(n),item:"li",interval:3e3,lazyload:!0}).start()})},initService:function(){if(t("#J_abroad-service-scroll").length){var e=new i("J_abroad-service-scroll",{hScrollbar:!1,vScrollbar:!1,hideScrollbar:!0,hScroll:!0,vScroll:!1,onBeforeScrollStart:function(t){this.absDistX>this.absDistY+5&&t.preventDefault()},onTouchEnd:function(){var t=this;t.touchEndTimeId&&clearTimeout(t.touchEndTimeId),t.touchEndTimeId=setTimeout(function(){t.absDistX=0,t.absDistX=0},600)}}),n=null;t(window).on("scroll",function(){n&&(clearTimeout(n),n=null),e.disable(),n=setTimeout(function(){e.enable()},50)})}if(t("#J_finance-service-scroll").length){var o=new i("J_finance-service-scroll",{hScrollbar:!1,vScrollbar:!1,hideScrollbar:!0,hScroll:!0,vScroll:!1,onBeforeScrollStart:function(t){this.absDistX>this.absDistY+5&&t.preventDefault()},onTouchEnd:function(){var t=this;t.touchEndTimeId&&clearTimeout(t.touchEndTimeId),t.touchEndTimeId=setTimeout(function(){t.absDistX=0,t.absDistX=0},600)}}),a=null;t(window).on("scroll",function(){a&&(clearTimeout(a),a=null),o.disable(),a=setTimeout(function(){o.enable()},50)})}},initUser:function(){var e=this,i=(t(window),window.innerHeight||document.documentElement.clientHeight||window.screen.availHeight,!1);i||(n.getUserInfo(function(i){if(1==i.isLogin)t("footer .links li").eq(0).html("<a href='"+u+"/m2015/user/userCenter'  node-type='个人中心' data-type='ga'><span class='avatar'><img src='"+e.getResizeImageUrl(i.head_img)+"'/></span><span class='username'>"+i.nickName+"</span></a>"),t("footer .links li").eq(1).html("<a href='javascript:;' class='quit'  node-type='退出' data-type='ga'><span class='icon-quit'></span><span>注销</span></a>");else{var n=t(".i-sign"),o=n.children("a"),a=n.find("img");a.on("load",function(){n.css("margin-bottom","10px"),o.addClass("trans")}),a.attr("src",a.attr("data-src"))}}),i=!0)},getResizeImageUrl:function(t){return t.replace(/\/[^\/\.]+\.[^\/\.]+$/,function(t){var e=t.slice(1).split(".")[0].split("_")[0],i=t.split(".")[1];return"/"+e+"_w60_h60_c0_t0."+i})},lazyloadBgImage:function(){var e=this;t("[data-bg-lazyload]").length&&(e.bgLazyloadBinding=new a({datasrc:"data-bg-lazyload",targetAttr:"background",elements:["[data-bg-lazyload]"],range:50})),t("[data-lazyload]").length&&(e.imgLazyloadBinding=new a({elements:["[data-lazyload]"],range:50}))},logout:function(){t.ajax({url:u+"/user/doLogoutAjax",dataType:"json",xhrFields:{withCredentials:!0},success:function(t){t.success&&window.location.reload()}})},initFooter:function(){var e=this;window.G&&window.G.p||window.atob(t.cookie("tuniu_partner")).split(",")[0],t("#pcLink").on("click",function(e){e.preventDefault(),t.cookie("PageSwitch",null,{domain:"tuniu.com"}),window.location=t(this).attr("href")}),t("footer").on("tap",".quit",function(){e.logout()})},initProductRecommend:function(){this.productRecommend=new c(this.storedCityInfor)},initBackToTop:function(){var e=t(window),i=window.innerHeight||document.documentElement.clientHeight||window.screen.availHeight,n=t(".J_toTop"),o="hidden";n.on("click",function(){e.scrollTop(0)}),e.on("scroll",function(){e.scrollTop()>i?n.removeClass(o):n.addClass(o)})},initTel:function(){n.getTel(function(e){t(".J_callPhone").attr("href","tel:"+e)})},initWXShare:function(){if(navigator.userAgent.toLowerCase().indexOf("micromessenger")>-1){var t=document.createElement("script"),e="http://img1.tuniucdn.com/mj/2016070101/modules/index/201512/wx-share.min.js";m2015Config&&m2015Config.cdnHost&&m2015Config.timeStamp&&(e=m2015Config.cdnHost+"/mj/"+m2015Config.timeStamp+"/modules/index/201512/wx-share.min.js"),t.type="text/javascript",t.src=e,document.body.appendChild(t)}},unload:function(){var t=this;t.bgLazyloadBinding&&t.bgLazyloadBinding.off(),t.imgLazyloadBinding&&t.imgLazyloadBinding.off(),t.productRecommend&&t.productRecommend.off&&t.productRecommend.off()}};!function(){function e(e,o){function a(e,i){if(s.helper("ceil",Math.ceil),e&&e.themeAds&&e.themeAds.length>0){var o=e.themeAds;t.each(o,function(t,i){i&&i.blocks&&i.blocks.length&&(e["themeAds_"+i.index]=e["themeAds_"+i.index]||[],e["themeAds_"+i.index].push(i))})}e.telConsult=n.getTel();var a=s.compile(d),r=a({data:e});t("#index").html(r);var l=t(".search_more_destinations a");l.length&&l.attr("href")&&l.attr("href",l.attr("href").replace(/\/index\/\d+$/,"/index/"+i.code)),p.init(i)}function r(){t.ajax({url:"/m2015/home/getHomeDataAjax",type:"GET",dataType:"json",data:{cityCode:e.code},success:function(t){t&&t.success&&t.data&&i.code==e.code&&(a(t.data,e),c.set("M_INDEX_HOMEDATA_STORAGE",{cityCode:e.code,data:t.data},12e5))}})}var c=new l;if(c.get("M_INDEX_HOMEDATA_STORAGE")){var u=c.get("M_INDEX_HOMEDATA_STORAGE");u&&u.cityCode&&u.cityCode==e.code?a(u.data,e):r()}else r()}var i=n.getHistoryCity();i&&0===t("#userGPS").length?e(i,"#autoJump"):(i=i||{name:"上海",code:2500,letter:"sh"},p.init(i)),n.checkPositionChanged(function(t,n){i=t,p.unload(),e(t,"")})}()}).apply(null,t)}()},function(t,e,i){var n;(function(t){n=function(require,t,e){var i=function(){function t(t){return null==t?String(t):G[W.call(t)]||"object"}function e(e){return"function"==t(e)}function i(t){return null!=t&&t==t.window}function n(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function o(e){return"object"==t(e)}function a(t){return o(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function r(t){return"number"==typeof t.length}function s(t){return I.call(t,function(t){return null!=t})}function l(t){return t.length>0?k.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function d(t){return t in z?z[t]:z[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function u(t,e){return"number"!=typeof e||D[c(t)]?e:e+"px"}function p(t){var e,i;return N[t]||(e=P.createElement(t),P.body.appendChild(e),i=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),N[t]=i),N[t]}function f(t){return"children"in t?E.call(t.children):k.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function h(t,e,i){for(w in e)i&&(a(e[w])||V(e[w]))?(a(e[w])&&!a(t[w])&&(t[w]={}),V(e[w])&&!V(t[w])&&(t[w]=[]),h(t[w],e[w],i)):e[w]!==S&&(t[w]=e[w])}function m(t,e){return null==e?k(t):k(t).filter(e)}function g(t,i,n,o){return e(i)?i.call(t,n,o):i}function v(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function y(t,e){var i=t.className||"",n=i&&i.baseVal!==S;return e===S?n?i.baseVal:i:void(n?i.baseVal=e:t.className=e)}function b(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?k.parseJSON(t):t):t}catch(e){return t}}function x(t,e){e(t);for(var i=0,n=t.childNodes.length;n>i;i++)x(t.childNodes[i],e)}var S,w,k,T,_,C,A=[],E=A.slice,I=A.filter,P=window.document,N={},z={},D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},j=/^\s*<(\w+|!)[^>]*>/,L=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,O=/^(?:body|html)$/i,U=/([A-Z])/g,Y=["val","css","html","text","data","width","height","offset"],X=["after","prepend","before","append"],R=P.createElement("table"),J=P.createElement("tr"),B={tr:P.createElement("tbody"),tbody:R,thead:R,tfoot:R,td:J,th:J,"*":P.createElement("div")},$=/complete|loaded|interactive/,H=/^[\w-]*$/,G={},W=G.toString,q={},F=P.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},V=Array.isArray||function(t){return t instanceof Array};return q.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,o=t.parentNode,a=!o;return a&&(o=F).appendChild(t),n=~q.qsa(o,e).indexOf(t),a&&F.removeChild(t),n},_=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},C=function(t){return I.call(t,function(e,i){return t.indexOf(e)==i})},q.fragment=function(t,e,i){var n,o,r;return L.test(t)&&(n=k(P.createElement(RegExp.$1))),n||(t.replace&&(t=t.replace(M,"<$1></$2>")),e===S&&(e=j.test(t)&&RegExp.$1),e in B||(e="*"),r=B[e],r.innerHTML=""+t,n=k.each(E.call(r.childNodes),function(){r.removeChild(this)})),a(i)&&(o=k(n),k.each(i,function(t,e){Y.indexOf(t)>-1?o[t](e):o.attr(t,e)})),n},q.Z=function(t,e){return t=t||[],t.__proto__=k.fn,t.selector=e||"",t},q.isZ=function(t){return t instanceof q.Z},q.init=function(t,i){var n;if(!t)return q.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&j.test(t))n=q.fragment(t,RegExp.$1,i),t=null;else{if(i!==S)return k(i).find(t);n=q.qsa(P,t)}else{if(e(t))return k(P).ready(t);if(q.isZ(t))return t;if(V(t))n=s(t);else if(o(t))n=[t],t=null;else if(j.test(t))n=q.fragment(t.trim(),RegExp.$1,i),t=null;else{if(i!==S)return k(i).find(t);n=q.qsa(P,t)}}return q.Z(n,t)},k=function(t,e){return q.init(t,e)},k.extend=function(t){var e,i=E.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach(function(i){h(t,i,e)}),t},q.qsa=function(t,e){var i,o="#"==e[0],a=!o&&"."==e[0],r=o||a?e.slice(1):e,s=H.test(r);return n(t)&&s&&o?(i=t.getElementById(r))?[i]:[]:1!==t.nodeType&&9!==t.nodeType?[]:E.call(s&&!o?a?t.getElementsByClassName(r):t.getElementsByTagName(e):t.querySelectorAll(e))},k.contains=P.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},k.type=t,k.isFunction=e,k.isWindow=i,k.isArray=V,k.isPlainObject=a,k.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},k.inArray=function(t,e,i){return A.indexOf.call(e,t,i)},k.camelCase=_,k.trim=function(t){return null==t?"":String.prototype.trim.call(t)},k.uuid=0,k.support={},k.expr={},k.map=function(t,e){var i,n,o,a=[];if(r(t))for(n=0;n<t.length;n++)i=e(t[n],n),null!=i&&a.push(i);else for(o in t)i=e(t[o],o),null!=i&&a.push(i);return l(a)},k.each=function(t,e){var i,n;if(r(t)){for(i=0;i<t.length;i++)if(e.call(t[i],i,t[i])===!1)return t}else for(n in t)if(e.call(t[n],n,t[n])===!1)return t;return t},k.grep=function(t,e){return I.call(t,e)},window.JSON&&(k.parseJSON=JSON.parse),k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){G["[object "+e+"]"]=e.toLowerCase()}),k.fn={forEach:A.forEach,reduce:A.reduce,push:A.push,sort:A.sort,indexOf:A.indexOf,concat:A.concat,map:function(t){return k(k.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return k(E.apply(this,arguments))},ready:function(t){return $.test(P.readyState)&&P.body?t(k):P.addEventListener("DOMContentLoaded",function(){t(k)},!1),this},get:function(t){return t===S?E.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return A.every.call(this,function(e,i){return t.call(e,i,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):k(I.call(this,function(e){return q.matches(e,t)}))},add:function(t,e){return k(C(this.concat(k(t,e))))},is:function(t){return this.length>0&&q.matches(this[0],t)},not:function(t){var i=[];if(e(t)&&t.call!==S)this.each(function(e){t.call(this,e)||i.push(this)});else{var n="string"==typeof t?this.filter(t):r(t)&&e(t.item)?E.call(t):k(t);this.forEach(function(t){n.indexOf(t)<0&&i.push(t)})}return k(i)},has:function(t){return this.filter(function(){return o(t)?k.contains(this,t):k(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!o(t)?t:k(t)},last:function(){var t=this[this.length-1];return t&&!o(t)?t:k(t)},find:function(t){var e,i=this;return e=t?"object"==typeof t?k(t).filter(function(){var t=this;return A.some.call(i,function(e){return k.contains(e,t)})}):1==this.length?k(q.qsa(this[0],t)):this.map(function(){return q.qsa(this,t)}):k()},closest:function(t,e){var i=this[0],o=!1;for("object"==typeof t&&(o=k(t));i&&!(o?o.indexOf(i)>=0:q.matches(i,t));)i=i!==e&&!n(i)&&i.parentNode;return k(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=k.map(i,function(t){return(t=t.parentNode)&&!n(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return m(e,t)},parent:function(t){return m(C(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return f(this)}),t)},contents:function(){return this.map(function(){return E.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return I.call(f(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return k.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var i=e(t);if(this[0]&&!i)var n=k(t).get(0),o=n.parentNode||this.length>1;return this.each(function(e){k(this).wrapAll(i?t.call(this,e):o?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){k(this[0]).before(t=k(t));for(var e;(e=t.children()).length;)t=e.first();k(t).append(this)}return this},wrapInner:function(t){var i=e(t);return this.each(function(e){var n=k(this),o=n.contents(),a=i?t.call(this,e):t;o.length?o.wrapAll(a):n.append(a)})},unwrap:function(){return this.parent().each(function(){k(this).replaceWith(k(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=k(this);(t===S?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return k(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return k(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;k(this).empty().append(g(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var i=g(this,t,e,this.textContent);this.textContent=null==i?"":""+i}):0 in this?this[0].textContent:null},attr:function(t,e){var i;return"string"!=typeof t||1 in arguments?this.each(function(i){if(1===this.nodeType)if(o(t))for(w in t)v(this,w,t[w]);else v(this,t,g(this,e,i,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:S},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){v(this,t)},this)})},prop:function(t,e){return t=Z[t]||t,1 in arguments?this.each(function(i){this[t]=g(this,e,i,this[t])}):this[0]&&this[0][t]},data:function(t,e){var i="data-"+t.replace(U,"-$1").toLowerCase(),n=1 in arguments?this.attr(i,e):this.attr(i);return null!==n?b(n):S},val:function(t){return 0 in arguments?this.each(function(e){this.value=g(this,t,e,this.value)}):this[0]&&(this[0].multiple?k(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=k(this),n=g(this,t,e,i.offset()),o=i.offsetParent().offset(),a={top:n.top-o.top,left:n.left-o.left};"static"==i.css("position")&&(a.position="relative"),i.css(a)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,i){if(arguments.length<2){var n,o=this[0];if(!o)return;if(n=getComputedStyle(o,""),"string"==typeof e)return o.style[_(e)]||n.getPropertyValue(e);if(V(e)){var a={};return k.each(e,function(t,e){a[e]=o.style[_(e)]||n.getPropertyValue(e)}),a}}var r="";if("string"==t(e))i||0===i?r=c(e)+":"+u(e,i):this.each(function(){this.style.removeProperty(c(e))});else for(w in e)e[w]||0===e[w]?r+=c(w)+":"+u(w,e[w])+";":this.each(function(){this.style.removeProperty(c(w))});return this.each(function(){this.style.cssText+=";"+r})},index:function(t){return t?this.indexOf(k(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?A.some.call(this,function(t){return this.test(y(t))},d(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){T=[];var i=y(this),n=g(this,t,e,i);n.split(/\s+/g).forEach(function(t){k(this).hasClass(t)||T.push(t)},this),T.length&&y(this,i+(i?" ":"")+T.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===S)return y(this,"");T=y(this),g(this,t,e,T).split(/\s+/g).forEach(function(t){T=T.replace(d(t)," ")}),y(this,T.trim())}})},toggleClass:function(t,e){return t?this.each(function(i){var n=k(this),o=g(this,t,i,y(this));o.split(/\s+/g).forEach(function(t){(e===S?!n.hasClass(t):e)?n.addClass(t):n.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===S?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===S?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),n=O.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(k(t).css("margin-top"))||0,i.left-=parseFloat(k(t).css("margin-left"))||0,n.top+=parseFloat(k(e[0]).css("border-top-width"))||0,n.left+=parseFloat(k(e[0]).css("border-left-width"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||P.body;t&&!O.test(t.nodeName)&&"static"==k(t).css("position");)t=t.offsetParent;return t})}},k.fn.detach=k.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});k.fn[t]=function(o){var a,r=this[0];return o===S?i(r)?r["inner"+e]:n(r)?r.documentElement["scroll"+e]:(a=this.offset())&&a[t]:this.each(function(e){r=k(this),r.css(t,g(this,o,e,r[t]()))})}}),X.forEach(function(e,i){var n=i%2;k.fn[e]=function(){var e,o,a=k.map(arguments,function(i){return e=t(i),"object"==e||"array"==e||null==i?i:q.fragment(i)}),r=this.length>1;return a.length<1?this:this.each(function(t,e){o=n?e:e.parentNode,e=0==i?e.nextSibling:1==i?e.firstChild:2==i?e:null;var s=k.contains(P.documentElement,o);a.forEach(function(t){if(r)t=t.cloneNode(!0);else if(!o)return k(t).remove();o.insertBefore(t,e),s&&x(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},k.fn[n?e+"To":"insert"+(i?"Before":"After")]=function(t){return k(t)[e](this),this}}),q.Z.prototype=k.fn,q.uniq=C,q.deserializeValue=b,k.zepto=q,k}();!function(t){function e(t){return t._zid||(t._zid=p++)}function i(t,i,a,r){if(i=n(i),i.ns)var s=o(i.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!i.e||t.e==i.e)&&(!i.ns||s.test(t.ns))&&(!a||e(t.fn)===e(a))&&(!r||t.sel==r)})}function n(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function a(t,e){return t.del&&!y&&t.e in b||!!e}function r(t){return x[t]||y&&b[t]||t}function s(i,o,s,l,d,p,f){var h=e(i),m=g[h]||(g[h]=[]);o.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var o=n(e);o.fn=s,o.sel=d,o.e in x&&(s=function(e){var i=e.relatedTarget;return!i||i!==this&&!t.contains(this,i)?o.fn.apply(this,arguments):void 0}),o.del=p;var h=p||s;o.proxy=function(t){if(t=c(t),!t.isImmediatePropagationStopped()){t.data=l;var e=h.apply(i,t._args==u?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},o.i=m.length,m.push(o),"addEventListener"in i&&i.addEventListener(r(o.e),o.proxy,a(o,f))})}function l(t,n,o,s,l){var c=e(t);(n||"").split(/\s/).forEach(function(e){i(t,e,o,s).forEach(function(e){delete g[c][e.i],"removeEventListener"in t&&t.removeEventListener(r(e.e),e.proxy,a(e,l))})})}function c(e,i){return!i&&e.isDefaultPrevented||(i||(i=e),t.each(T,function(t,n){var o=i[t];e[t]=function(){return this[n]=S,o&&o.apply(i,arguments)},e[n]=w}),(i.defaultPrevented!==u?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=S)),e}function d(t){var e,i={originalEvent:t};for(e in t)k.test(e)||t[e]===u||(i[e]=t[e]);return c(i,t)}var u,p=1,f=Array.prototype.slice,h=t.isFunction,m=function(t){return"string"==typeof t},g={},v={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},x={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:s,remove:l},t.proxy=function(i,n){var o=2 in arguments&&f.call(arguments,2);if(h(i)){var a=function(){return i.apply(n,o?o.concat(f.call(arguments)):arguments)};return a._zid=e(i),a}if(m(n))return o?(o.unshift(i[n],i),t.proxy.apply(null,o)):t.proxy(i[n],i);throw new TypeError("expected function")},t.fn.bind=function(t,e,i){return this.on(t,e,i)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,i,n){return this.on(t,e,i,n,1)};var S=function(){return!0},w=function(){return!1},k=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,i){return this.on(e,t,i)},t.fn.undelegate=function(t,e,i){return this.off(e,t,i)},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(e,i,n,o,a){var r,c,p=this;return e&&!m(e)?(t.each(e,function(t,e){p.on(t,i,n,e,a)}),p):(m(i)||h(o)||o===!1||(o=n,n=i,i=u),(h(n)||n===!1)&&(o=n,n=u),o===!1&&(o=w),p.each(function(u,p){a&&(r=function(t){return l(p,t.type,o),o.apply(this,arguments)}),i&&(c=function(e){var n,a=t(e.target).closest(i,p).get(0);return a&&a!==p?(n=t.extend(d(e),{currentTarget:a,liveFired:p}),(r||o).apply(a,[n].concat(f.call(arguments,1)))):void 0}),s(p,e,o,n,i,c||r)}))},t.fn.off=function(e,i,n){var o=this;return e&&!m(e)?(t.each(e,function(t,e){o.off(t,i,e)}),o):(m(i)||h(n)||n===!1||(n=i,i=u),n===!1&&(n=w),o.each(function(){l(this,e,n,i)}))},t.fn.trigger=function(e,i){return e=m(e)||t.isPlainObject(e)?t.Event(e):c(e),e._args=i,this.each(function(){e.type in b&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,i)})},t.fn.triggerHandler=function(e,n){var o,a;return this.each(function(r,s){o=d(m(e)?t.Event(e):e),o._args=n,o.target=s,t.each(i(s,e.type||e),function(t,e){return a=e.proxy(o),o.isImmediatePropagationStopped()?!1:void 0})}),a},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var i=document.createEvent(v[t]||"Events"),n=!0;if(e)for(var o in e)"bubbles"==o?n=!!e[o]:i[o]=e[o];return i.initEvent(t,n,!0),c(i)}}(i),function(t){function e(e,i,n){var o=t.Event(i);return t(e).trigger(o,n),!o.isDefaultPrevented()}function i(t,i,n,o){return t.global?e(i||y,n,o):void 0}function n(e){e.global&&0===t.active++&&i(e,null,"ajaxStart")}function o(e){e.global&&!--t.active&&i(e,null,"ajaxStop")}function a(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||i(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void i(e,n,"ajaxSend",[t,e])}function r(t,e,n,o){var a=n.context,r="success";n.success.call(a,t,r,e),o&&o.resolveWith(a,[t,r,e]),i(n,a,"ajaxSuccess",[e,n,t]),l(r,e,n)}function s(t,e,n,o,a){var r=o.context;o.error.call(r,n,e,t),a&&a.rejectWith(r,[n,e,t]),i(o,r,"ajaxError",[n,o,t||e]),l(e,n,o)}function l(t,e,n){var a=n.context;n.complete.call(a,e,t),i(n,a,"ajaxComplete",[e,n]),o(n)}function c(){}function d(t){return t&&(t=t.split(";",2)[0]),t&&(t==k?"html":t==w?"json":x.test(t)?"script":S.test(t)&&"xml")||"text"}function u(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function p(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=u(e.url,e.data),e.data=void 0)}function f(e,i,n,o){return t.isFunction(i)&&(o=n,n=i,i=void 0),t.isFunction(n)||(o=n,n=void 0),{url:e,data:i,success:n,dataType:o}}function h(e,i,n,o){var a,r=t.isArray(i),s=t.isPlainObject(i);t.each(i,function(i,l){a=t.type(l),o&&(i=n?o:o+"["+(s||"object"==a||"array"==a?i:"")+"]"),!o&&r?e.add(l.name,l.value):"array"==a||!n&&"object"==a?h(e,l,n,i):e.add(i,l)})}var m,g,v=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,x=/^(?:text|application)\/javascript/i,S=/^(?:text|application)\/xml/i,w="application/json",k="text/html",T=/^\s*$/,_=y.createElement("a");_.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var n,o,l=e.jsonpCallback,c=(t.isFunction(l)?l():l)||"jsonp"+ ++v,d=y.createElement("script"),u=window[c],p=function(e){t(d).triggerHandler("error",e||"abort")},f={abort:p};return i&&i.promise(f),t(d).on("load error",function(a,l){clearTimeout(o),t(d).off().remove(),"error"!=a.type&&n?r(n[0],f,e,i):s(null,l||"error",f,e,i),window[c]=u,n&&t.isFunction(u)&&u(n[0]),u=n=void 0}),a(f,e)===!1?(p("abort"),f):(window[c]=function(){n=arguments},d.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(d),e.timeout>0&&(o=setTimeout(function(){p("timeout")},e.timeout)),f)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:w,xml:"application/xml, text/xml",html:k,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var i,o=t.extend({},e||{}),l=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===o[m]&&(o[m]=t.ajaxSettings[m]);n(o),o.crossDomain||(i=y.createElement("a"),i.href=o.url,i.href=i.href,o.crossDomain=_.protocol+"//"+_.host!=i.protocol+"//"+i.host),o.url||(o.url=window.location.toString()),p(o);var f=o.dataType,h=/\?.+=\?/.test(o.url);if(h&&(f="jsonp"),o.cache!==!1&&(e&&e.cache===!0||"script"!=f&&"jsonp"!=f)||(o.url=u(o.url,"_="+Date.now())),"jsonp"==f)return h||(o.url=u(o.url,o.jsonp?o.jsonp+"=?":o.jsonp===!1?"":"callback=?")),t.ajaxJSONP(o,l);var v,b=o.accepts[f],x={},S=function(t,e){x[t.toLowerCase()]=[t,e]},w=/^([\w-]+:)\/\//.test(o.url)?RegExp.$1:window.location.protocol,k=o.xhr(),C=k.setRequestHeader;if(l&&l.promise(k),o.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",b||"*/*"),(b=o.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),k.overrideMimeType&&k.overrideMimeType(b)),(o.contentType||o.contentType!==!1&&o.data&&"GET"!=o.type.toUpperCase())&&S("Content-Type",o.contentType||"application/x-www-form-urlencoded"),o.headers)for(g in o.headers)S(g,o.headers[g]);if(k.setRequestHeader=S,k.onreadystatechange=function(){if(4==k.readyState){k.onreadystatechange=c,clearTimeout(v);var e,i=!1;if(k.status>=200&&k.status<300||304==k.status||0==k.status&&"file:"==w){f=f||d(o.mimeType||k.getResponseHeader("content-type")),e=k.responseText;try{"script"==f?(0,eval)(e):"xml"==f?e=k.responseXML:"json"==f&&(e=T.test(e)?null:t.parseJSON(e))}catch(n){i=n}i?s(i,"parsererror",k,o,l):r(e,k,o,l)}else s(k.statusText||null,k.status?"error":"abort",k,o,l)}},a(k,o)===!1)return k.abort(),s(null,"abort",k,o,l),k;var A="async"in o?o.async:!0;if(k.open(o.type,o.url,A,o.username,o.password),o.xhrFields)for(g in o.xhrFields)k[g]=o.xhrFields[g];for(g in x)C.apply(k,x[g]);return o.timeout>0&&(v=setTimeout(function(){k.onreadystatechange=c,k.abort(),s(null,"timeout",k,o,l)},o.timeout)),k.send(o.data?o.data:null),k},t.get=function(){return t.ajax(f.apply(null,arguments))},t.post=function(){var e=f.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=f.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,i,n){if(!this.length)return this;var o,a=this,r=e.split(/\s/),s=f(e,i,n),l=s.success;return r.length>1&&(s.url=r[0],o=r[1]),s.success=function(e){a.html(o?t("<div>").html(e.replace(b,"")).find(o):e),l&&l.apply(a,arguments)},t.ajax(s),this};var C=encodeURIComponent;t.param=function(e,i){var n=[];return n.add=function(e,i){t.isFunction(i)&&(i=i()),null==i&&(i=""),this.push(C(e)+"="+C(i))},h(n,e,i),n.join("&").replace(/%20/g,"+")}}(i),function(t){t.fn.serializeArray=function(){var e,i,n=[],o=function(t){return t.forEach?t.forEach(o):void n.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(n,a){i=a.type,e=a.name,e&&"fieldset"!=a.nodeName.toLowerCase()&&!a.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&"file"!=i&&("radio"!=i&&"checkbox"!=i||a.checked)&&o(t(a).val())}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var i=t.Event("submit");this.eq(0).trigger(i),i.isDefaultPrevented()||this.get(0).submit()}return this}}(i),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,i){return e=e||[],t.extend(e,t.fn),e.selector=i||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var i=getComputedStyle;window.getComputedStyle=function(t){try{return i(t)}catch(e){return null}}}}(i),function(t){function e(t,e,i,n){return Math.abs(t-e)>=Math.abs(i-n)?t-e>0?"Left":"Right":i-n>0?"Up":"Down"}function i(){d=null,p.last&&(p.el.trigger("longTap"),p={})}function n(){d&&clearTimeout(d),d=null}function o(){s&&clearTimeout(s),l&&clearTimeout(l),c&&clearTimeout(c),d&&clearTimeout(d),s=l=c=d=null,p={}}function a(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function r(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var s,l,c,d,u,p={},f=750;t(document).ready(function(){var h,m,g,v,y=0,b=0;"MSGesture"in window&&(u=new MSGesture,u.target=document.body),t(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(p.el.trigger("swipe"),p.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(e){(v=r(e,"down"))&&!a(e)||(g=v?e:e.touches[0],e.touches&&1===e.touches.length&&p.x2&&(p.x2=void 0,p.y2=void 0),h=Date.now(),m=h-(p.last||h),p.el=t("tagName"in g.target?g.target:g.target.parentNode),s&&clearTimeout(s),p.x1=g.pageX,p.y1=g.pageY,m>0&&250>=m&&(p.isDoubleTap=!0),p.last=h,d=setTimeout(i,f),u&&v&&u.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(v=r(t,"move"))&&!a(t)||(g=v?t:t.touches[0],n(),p.x2=g.pageX,p.y2=g.pageY,y+=Math.abs(p.x1-p.x2),b+=Math.abs(p.y1-p.y2),-1!==["Left","Right"].indexOf(e(p.x1,p.x2,p.y1,p.y2))&&/android/i.test(navigator.userAgent)&&t.preventDefault())}).on("touchend MSPointerUp pointerup",function(i){(v=r(i,"up"))&&!a(i)||(n(),p.x2&&Math.abs(p.x1-p.x2)>30||p.y2&&Math.abs(p.y1-p.y2)>30?c=setTimeout(function(){p.el.trigger("swipe"),p.el.trigger("swipe"+e(p.x1,p.x2,p.y1,p.y2)),p={}},0):"last"in p&&(30>y&&30>b?l=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=o,p.el.trigger(e),p.isDoubleTap?(p.el&&p.el.trigger("doubleTap"),p={}):s=setTimeout(function(){s=null,p.el&&p.el.trigger("singleTap"),p={}},250)},0):p={}),y=b=0)}).on("touchcancel MSPointerCancel pointercancel",o),t(window).on("scroll",o)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(i),"object"==typeof e&&e?e.exports=i:window.Zepto=window.$=i}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}).call(e,i(3)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,i){var n;n=function(require,t,e){function i(t,e){"use strict";function i(){m=b.children,y=m.length,m.length<2&&(e.continuous=!1),h.transitions&&e.continuous&&m.length<3&&(b.appendChild(m[0].cloneNode(!0)),b.appendChild(b.children[1].cloneNode(!0)),m=b.children),g=new Array(m.length),v=t.getBoundingClientRect().width||t.offsetWidth,b.style.width=m.length*v+"px";for(var i=m.length;i--;){var n=m[i];n.style.width=v+"px",n.setAttribute("data-index",i),h.transitions&&(n.style.left=i*-v+"px",s(i,x>i?-v:i>x?v:0,0))}e.continuous&&h.transitions&&(s(a(x-1),-v,0),s(a(x+1),v,0)),h.transitions||(b.style.left=x*-v+"px"),t.style.visibility="visible"}function n(){e.continuous?r(x-1):x&&r(x-1)}function o(){e.continuous?r(x+1):x<m.length-1&&r(x+1)}function a(t){return(m.length+t%m.length)%m.length}function r(t,i){if(x!=t){if(h.transitions){var n=Math.abs(x-t)/(x-t);if(e.continuous){var o=n;n=-g[a(t)]/v,n!==o&&(t=-n*m.length+t)}for(var r=Math.abs(x-t)-1;r--;)s(a((t>x?t:x)-r-1),v*n,0);t=a(t),s(x,v*n,i||S),s(t,0,i||S),e.continuous&&s(a(t-n),-(v*n),0)}else t=a(t),c(x*-v,t*-v,i||S);x=t,f(e.callback&&e.callback(x,m[x]))}}function s(t,e,i){l(t,e,i),g[t]=e}function l(t,e,i){var n=m[t],o=n&&n.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=i+"ms",o.webkitTransform="translate("+e+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+e+"px)")}function c(t,i,n){if(!n)return void(b.style.left=i+"px");var o=+new Date,a=setInterval(function(){var r=+new Date-o;return r>n?(b.style.left=i+"px",T&&d(),e.transitionEnd&&e.transitionEnd.call(event,x,m[x]),void clearInterval(a)):void(b.style.left=(i-t)*(Math.floor(r/n*100)/100)+t+"px")},4)}function d(){w=setTimeout(o,T)}function u(){T=0,clearTimeout(w)}var p=function(){},f=function(t){setTimeout(t||p,0)},h={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var i in e)if(void 0!==t.style[e[i]])return!0;return!1}(document.createElement("swipe"))};if(t){var m,g,v,y,b=t.children[0];e=e||{};var x=parseInt(e.startSlide,10)||0,S=e.speed||300;e.continuous=void 0!==e.continuous?e.continuous:!0;var w,k,T=e.auto||0,_={},C={},A={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":f(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":f(this.transitionEnd(t));break;case"resize":f(i)}e.stopPropagation&&t.stopPropagation()},start:function(t){var e=t.touches[0];_={x:e.pageX,y:e.pageY,time:+new Date},k=void 0,C={},b.addEventListener("touchmove",this,!1),b.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){e.disableScroll&&t.preventDefault();var i=t.touches[0];C={x:i.pageX-_.x,y:i.pageY-_.y},"undefined"==typeof k&&(k=!!(k||Math.abs(C.x)<Math.abs(C.y))),k||(t.preventDefault(),u(),e.continuous?(l(a(x-1),C.x+g[a(x-1)],0),l(x,C.x+g[x],0),l(a(x+1),C.x+g[a(x+1)],0)):(C.x=C.x/(!x&&C.x>0||x==m.length-1&&C.x<0?Math.abs(C.x)/v+1:1),l(x-1,C.x+g[x-1],0),l(x,C.x+g[x],0),l(x+1,C.x+g[x+1],0)))}},end:function(t){var i=+new Date-_.time,n=Number(i)<250&&Math.abs(C.x)>20||Math.abs(C.x)>v/2,o=!x&&C.x>0||x==m.length-1&&C.x<0;e.continuous&&(o=!1);var r=C.x<0;k||(n&&!o?(r?(e.continuous?(s(a(x-1),-v,0),s(a(x+2),v,0)):s(x-1,-v,0),s(x,g[x]-v,S),s(a(x+1),g[a(x+1)]-v,S),x=a(x+1)):(e.continuous?(s(a(x+1),v,0),s(a(x-2),-v,0)):s(x+1,v,0),s(x,g[x]+v,S),s(a(x-1),g[a(x-1)]+v,S),x=a(x-1)),e.callback&&e.callback(x,m[x])):e.continuous?(s(a(x-1),-v,S),s(x,0,S),s(a(x+1),v,S)):(s(x-1,-v,S),s(x,0,S),s(x+1,v,S))),b.removeEventListener("touchmove",A,!1),b.removeEventListener("touchend",A,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==x&&(T&&d(),e.transitionEnd&&e.transitionEnd.call(t,x,m[x]))}};return i(),T&&d(),h.addEventListener?(h.touch&&b.addEventListener("touchstart",A,!1),h.transitions&&(b.addEventListener("webkitTransitionEnd",A,!1),b.addEventListener("msTransitionEnd",A,!1),b.addEventListener("oTransitionEnd",A,!1),b.addEventListener("otransitionend",A,!1),b.addEventListener("transitionend",A,!1)),window.addEventListener("resize",A,!1)):window.onresize=function(){i()},{setup:function(){i()},slide:function(t,e){u(),r(t,e)},prev:function(){u(),n()},next:function(){u(),o()},stop:function(){u()},getPos:function(){return x},getNumSlides:function(){return y},kill:function(){u(),b.style.width="",b.style.left="";for(var t=m.length;t--;){var e=m[t];e.style.width="",e.style.left="",h.transitions&&l(t,0,0)}h.addEventListener?(b.removeEventListener("touchstart",A,!1),b.removeEventListener("webkitTransitionEnd",A,!1),b.removeEventListener("msTransitionEnd",A,!1),b.removeEventListener("oTransitionEnd",A,!1),b.removeEventListener("otransitionend",A,!1),b.removeEventListener("transitionend",A,!1),window.removeEventListener("resize",A,!1)):window.onresize=null}}}}e.exports=i}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(require,t,e){!function(t,i){function n(t){return""===r?t:(t=t.charAt(0).toUpperCase()+t.substr(1),r+t)}var o=Math,a=i.createElement("div").style,r=function(){for(var t,e="t,webkitT,MozT,msT,OT".split(","),i=0,n=e.length;n>i;i++)if(t=e[i]+"ransform",t in a)return e[i].substr(0,e[i].length-1);return!1}(),s=r?"-"+r.toLowerCase()+"-":"",l=n("transform"),c=n("transitionProperty"),d=n("transitionDuration"),u=n("transformOrigin"),p=n("transitionTimingFunction"),f=n("transitionDelay"),h=/android/gi.test(navigator.appVersion),m=/iphone|ipad/gi.test(navigator.appVersion),g=/hp-tablet/gi.test(navigator.appVersion),v=n("perspective")in a,y="ontouchstart"in t&&!g,b=r!==!1,x=n("transition")in a,S="onorientationchange"in t?"orientationchange":"resize",w=y?"touchstart":"mousedown",k=y?"touchmove":"mousemove",T=y?"touchend":"mouseup",_=y?"touchcancel":"mouseup",C=function(){if(r===!1)return!1;var t={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return t[r]}(),A=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),E=function(){return t.cancelRequestAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}(),I=v?" translateZ(0)":"",P=function(e,n){var o,a=this;a.wrapper="object"==typeof e?e:i.getElementById(e),a.wrapper.style.overflow="hidden",a.scroller=a.wrapper.children[0],a.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:h,hideScrollbar:m,fadeScrollbar:m&&v,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(o in n)a.options[o]=n[o];a.x=a.options.x,a.y=a.options.y,a.options.useTransform=b&&a.options.useTransform,a.options.hScrollbar=a.options.hScroll&&a.options.hScrollbar,a.options.vScrollbar=a.options.vScroll&&a.options.vScrollbar,a.options.zoom=a.options.useTransform&&a.options.zoom,a.options.useTransition=x&&a.options.useTransition,a.options.zoom&&h&&(I=""),a.scroller.style[c]=a.options.useTransform?s+"transform":"top left",a.scroller.style[d]="0",a.scroller.style[u]="0 0",a.options.useTransition&&(a.scroller.style[p]="cubic-bezier(0.33,0.66,0.66,1)"),a.options.useTransform?a.scroller.style[l]="translate("+a.x+"px,"+a.y+"px)"+I:a.scroller.style.cssText+=";position:absolute;top:"+a.y+"px;left:"+a.x+"px",a.options.useTransition&&(a.options.fixedScrollbar=!0),a.refresh(),a._bind(S,t),a._bind(w),y||"none"!=a.options.wheelAction&&(a._bind("DOMMouseScroll"),a._bind("mousewheel")),a.options.checkDOMChanges&&(a.checkDOMTime=setInterval(function(){a._checkDOMChanges()},500))};P.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(t){var e=this;switch(t.type){case w:if(!y&&0!==t.button)return;e._start(t);break;case k:e._move(t);break;case T:case _:e._end(t);break;case S:e._resize();break;case"DOMMouseScroll":case"mousewheel":e._wheel(t);break;case C:e._transitionEnd(t)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(t){var e,n=this;return n[t+"Scrollbar"]?(n[t+"ScrollbarWrapper"]||(e=i.createElement("div"),n.options.scrollbarClass?e.className=n.options.scrollbarClass+t.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+("h"==t?"height:7px;bottom:1px;left:2px;right:"+(n.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(n.hScrollbar?"7":"2")+"px;top:2px;right:1px"),e.style.cssText+=";pointer-events:none;"+s+"transition-property:opacity;"+s+"transition-duration:"+(n.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(n.options.hideScrollbar?"0":"1"),n.wrapper.appendChild(e),n[t+"ScrollbarWrapper"]=e,e=i.createElement("div"),n.options.scrollbarClass||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+s+"background-clip:padding-box;"+s+"box-sizing:border-box;"+("h"==t?"height:100%":"width:100%")+";"+s+"border-radius:3px;border-radius:3px"),e.style.cssText+=";pointer-events:none;"+s+"transition-property:"+s+"transform;"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+s+"transition-duration:0;"+s+"transform: translate(0,0)"+I,n.options.useTransition&&(e.style.cssText+=";"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),n[t+"ScrollbarWrapper"].appendChild(e),n[t+"ScrollbarIndicator"]=e),"h"==t?(n.hScrollbarSize=n.hScrollbarWrapper.clientWidth,n.hScrollbarIndicatorSize=o.max(o.round(n.hScrollbarSize*n.hScrollbarSize/n.scrollerW),8),n.hScrollbarIndicator.style.width=n.hScrollbarIndicatorSize+"px",n.hScrollbarMaxScroll=n.hScrollbarSize-n.hScrollbarIndicatorSize,n.hScrollbarProp=n.hScrollbarMaxScroll/n.maxScrollX):(n.vScrollbarSize=n.vScrollbarWrapper.clientHeight,n.vScrollbarIndicatorSize=o.max(o.round(n.vScrollbarSize*n.vScrollbarSize/n.scrollerH),8),n.vScrollbarIndicator.style.height=n.vScrollbarIndicatorSize+"px",n.vScrollbarMaxScroll=n.vScrollbarSize-n.vScrollbarIndicatorSize,n.vScrollbarProp=n.vScrollbarMaxScroll/n.maxScrollY),void n._scrollbarPos(t,!0)):void(n[t+"ScrollbarWrapper"]&&(b&&(n[t+"ScrollbarIndicator"].style[l]=""),n[t+"ScrollbarWrapper"].parentNode.removeChild(n[t+"ScrollbarWrapper"]),n[t+"ScrollbarWrapper"]=null,n[t+"ScrollbarIndicator"]=null))},_resize:function(){var t=this;setTimeout(function(){t.refresh()},h?200:0)},_pos:function(t,e){this.zoomed||(t=this.hScroll?t:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[l]="translate("+t+"px,"+e+"px) scale("+this.scale+")"+I:(t=o.round(t),e=o.round(e),this.scroller.style.left=t+"px",this.scroller.style.top=e+"px"),this.x=t,this.y=e,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(t,e){var i,n=this,a="h"==t?n.x:n.y;n[t+"Scrollbar"]&&(a=n[t+"ScrollbarProp"]*a,0>a?(n.options.fixedScrollbar||(i=n[t+"ScrollbarIndicatorSize"]+o.round(3*a),8>i&&(i=8),n[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=i+"px"),a=0):a>n[t+"ScrollbarMaxScroll"]&&(n.options.fixedScrollbar?a=n[t+"ScrollbarMaxScroll"]:(i=n[t+"ScrollbarIndicatorSize"]-o.round(3*(a-n[t+"ScrollbarMaxScroll"])),8>i&&(i=8),n[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=i+"px",a=n[t+"ScrollbarMaxScroll"]+(n[t+"ScrollbarIndicatorSize"]-i))),n[t+"ScrollbarWrapper"].style[f]="0",n[t+"ScrollbarWrapper"].style.opacity=e&&n.options.hideScrollbar?"0":"1",n[t+"ScrollbarIndicator"].style[l]="translate("+("h"==t?a+"px,0)":"0,"+a+"px)")+I)},_start:function(e){var i,n,a,r,s,c=this,d=y?e.touches[0]:e;c.enabled&&(c.options.onBeforeScrollStart&&c.options.onBeforeScrollStart.call(c,e),(c.options.useTransition||c.options.zoom)&&c._transitionTime(0),c.moved=!1,c.animating=!1,c.zoomed=!1,c.distX=0,c.distY=0,c.absDistX=0,c.absDistY=0,c.dirX=0,c.dirY=0,c.options.zoom&&y&&e.touches.length>1&&(r=o.abs(e.touches[0].pageX-e.touches[1].pageX),s=o.abs(e.touches[0].pageY-e.touches[1].pageY),c.touchesDistStart=o.sqrt(r*r+s*s),c.originX=o.abs(e.touches[0].pageX+e.touches[1].pageX-2*c.wrapperOffsetLeft)/2-c.x,c.originY=o.abs(e.touches[0].pageY+e.touches[1].pageY-2*c.wrapperOffsetTop)/2-c.y,c.options.onZoomStart&&c.options.onZoomStart.call(c,e)),c.options.momentum&&(c.options.useTransform?(i=getComputedStyle(c.scroller,null)[l].replace(/[^0-9\-.,]/g,"").split(","),n=+(i[12]||i[4]),a=+(i[13]||i[5])):(n=+getComputedStyle(c.scroller,null).left.replace(/[^0-9-]/g,""),a=+getComputedStyle(c.scroller,null).top.replace(/[^0-9-]/g,"")),(n!=c.x||a!=c.y)&&(c.options.useTransition?c._unbind(C):E(c.aniTime),c.steps=[],c._pos(n,a),c.options.onScrollEnd&&c.options.onScrollEnd.call(c))),c.absStartX=c.x,c.absStartY=c.y,c.startX=c.x,c.startY=c.y,c.pointX=d.pageX,c.pointY=d.pageY,c.startTime=e.timeStamp||Date.now(),c.options.onScrollStart&&c.options.onScrollStart.call(c,e),c._bind(k,t),c._bind(T,t),c._bind(_,t))},_move:function(t){var e,i,n,a=this,r=y?t.touches[0]:t,s=r.pageX-a.pointX,c=r.pageY-a.pointY,d=a.x+s,u=a.y+c,p=t.timeStamp||Date.now();return a.options.onBeforeScrollMove&&a.options.onBeforeScrollMove.call(a,t),a.options.zoom&&y&&t.touches.length>1?(e=o.abs(t.touches[0].pageX-t.touches[1].pageX),i=o.abs(t.touches[0].pageY-t.touches[1].pageY),a.touchesDist=o.sqrt(e*e+i*i),a.zoomed=!0,n=1/a.touchesDistStart*a.touchesDist*this.scale,n<a.options.zoomMin?n=.5*a.options.zoomMin*Math.pow(2,n/a.options.zoomMin):n>a.options.zoomMax&&(n=2*a.options.zoomMax*Math.pow(.5,a.options.zoomMax/n)),a.lastScale=n/this.scale,d=this.originX-this.originX*a.lastScale+this.x,u=this.originY-this.originY*a.lastScale+this.y,this.scroller.style[l]="translate("+d+"px,"+u+"px) scale("+n+")"+I,void(a.options.onZoom&&a.options.onZoom.call(a,t))):(a.pointX=r.pageX,a.pointY=r.pageY,(d>0||d<a.maxScrollX)&&(d=a.options.bounce?a.x+s/2:d>=0||a.maxScrollX>=0?0:a.maxScrollX),(u>a.minScrollY||u<a.maxScrollY)&&(u=a.options.bounce?a.y+c/2:u>=a.minScrollY||a.maxScrollY>=0?a.minScrollY:a.maxScrollY),a.distX+=s,a.distY+=c,a.absDistX=o.abs(a.distX),a.absDistY=o.abs(a.distY),void(a.absDistX<6&&a.absDistY<6||(a.options.lockDirection&&(a.absDistX>a.absDistY+5?(u=a.y,c=0):a.absDistY>a.absDistX+5&&(d=a.x,s=0)),a.moved=!0,a._pos(d,u),a.dirX=s>0?-1:0>s?1:0,a.dirY=c>0?-1:0>c?1:0,p-a.startTime>300&&(a.startTime=p,a.startX=a.x,a.startY=a.y),a.options.onScrollMove&&a.options.onScrollMove.call(a,t))))},_end:function(e){if(!y||0===e.touches.length){var n,a,r,s,c,u,p,f=this,h=y?e.changedTouches[0]:e,m={dist:0,time:0},g={dist:0,time:0},v=(e.timeStamp||Date.now())-f.startTime,b=f.x,x=f.y;if(f._unbind(k,t),f._unbind(T,t),f._unbind(_,t),f.options.onBeforeScrollEnd&&f.options.onBeforeScrollEnd.call(f,e),f.zoomed)return p=f.scale*f.lastScale,p=Math.max(f.options.zoomMin,p),p=Math.min(f.options.zoomMax,p),f.lastScale=p/f.scale,f.scale=p,f.x=f.originX-f.originX*f.lastScale+f.x,f.y=f.originY-f.originY*f.lastScale+f.y,f.scroller.style[d]="200ms",f.scroller.style[l]="translate("+f.x+"px,"+f.y+"px) scale("+f.scale+")"+I,f.zoomed=!1,f.refresh(),void(f.options.onZoomEnd&&f.options.onZoomEnd.call(f,e));if(!f.moved)return y&&(f.doubleTapTimer&&f.options.zoom?(clearTimeout(f.doubleTapTimer),f.doubleTapTimer=null,f.options.onZoomStart&&f.options.onZoomStart.call(f,e),f.zoom(f.pointX,f.pointY,1==f.scale?f.options.doubleTapZoom:1),f.options.onZoomEnd&&setTimeout(function(){f.options.onZoomEnd.call(f,e)},200)):this.options.handleClick&&(f.doubleTapTimer=setTimeout(function(){for(f.doubleTapTimer=null,n=h.target;1!=n.nodeType;)n=n.parentNode;"SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName&&(a=i.createEvent("MouseEvents"),a.initMouseEvent("click",!0,!0,e.view,1,h.screenX,h.screenY,h.clientX,h.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),a._fake=!0,n.dispatchEvent(a))},f.options.zoom?250:0))),f._resetPos(400),void(f.options.onTouchEnd&&f.options.onTouchEnd.call(f,e));if(300>v&&f.options.momentum&&(m=b?f._momentum(b-f.startX,v,-f.x,f.scrollerW-f.wrapperW+f.x,f.options.bounce?f.wrapperW:0):m,g=x?f._momentum(x-f.startY,v,-f.y,f.maxScrollY<0?f.scrollerH-f.wrapperH+f.y-f.minScrollY:0,f.options.bounce?f.wrapperH:0):g,b=f.x+m.dist,x=f.y+g.dist,(f.x>0&&b>0||f.x<f.maxScrollX&&b<f.maxScrollX)&&(m={dist:0,time:0}),(f.y>f.minScrollY&&x>f.minScrollY||f.y<f.maxScrollY&&x<f.maxScrollY)&&(g={dist:0,time:0})),m.dist||g.dist)return c=o.max(o.max(m.time,g.time),10),f.options.snap&&(r=b-f.absStartX,s=x-f.absStartY,o.abs(r)<f.options.snapThreshold&&o.abs(s)<f.options.snapThreshold?f.scrollTo(f.absStartX,f.absStartY,200):(u=f._snap(b,x),b=u.x,x=u.y,c=o.max(u.time,c))),f.scrollTo(o.round(b),o.round(x),c),void(f.options.onTouchEnd&&f.options.onTouchEnd.call(f,e));if(f.options.snap)return r=b-f.absStartX,s=x-f.absStartY,o.abs(r)<f.options.snapThreshold&&o.abs(s)<f.options.snapThreshold?f.scrollTo(f.absStartX,f.absStartY,200):(u=f._snap(f.x,f.y),(u.x!=f.x||u.y!=f.y)&&f.scrollTo(u.x,u.y,u.time)),void(f.options.onTouchEnd&&f.options.onTouchEnd.call(f,e));f._resetPos(200),f.options.onTouchEnd&&f.options.onTouchEnd.call(f,e)}},_resetPos:function(t){var e=this,i=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,n=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;return i==e.x&&n==e.y?(e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e)),e.hScrollbar&&e.options.hideScrollbar&&("webkit"==r&&(e.hScrollbarWrapper.style[f]="300ms"),e.hScrollbarWrapper.style.opacity="0"),void(e.vScrollbar&&e.options.hideScrollbar&&("webkit"==r&&(e.vScrollbarWrapper.style[f]="300ms"),e.vScrollbarWrapper.style.opacity="0"))):void e.scrollTo(i,n,t||0)},_wheel:function(t){var e,i,n,o,a,r=this;if("wheelDeltaX"in t)e=t.wheelDeltaX/12,i=t.wheelDeltaY/12;else if("wheelDelta"in t)e=i=t.wheelDelta/12;else{if(!("detail"in t))return;e=i=3*-t.detail}return"zoom"==r.options.wheelAction?(a=r.scale*Math.pow(2,1/3*(i?i/Math.abs(i):0)),a<r.options.zoomMin&&(a=r.options.zoomMin),a>r.options.zoomMax&&(a=r.options.zoomMax),void(a!=r.scale&&(!r.wheelZoomCount&&r.options.onZoomStart&&r.options.onZoomStart.call(r,t),r.wheelZoomCount++,r.zoom(t.pageX,t.pageY,a,400),setTimeout(function(){r.wheelZoomCount--,!r.wheelZoomCount&&r.options.onZoomEnd&&r.options.onZoomEnd.call(r,t)},400)))):(n=r.x+e,o=r.y+i,n>0?n=0:n<r.maxScrollX&&(n=r.maxScrollX),o>r.minScrollY?o=r.minScrollY:o<r.maxScrollY&&(o=r.maxScrollY),void(r.maxScrollY<0&&r.scrollTo(n,o,0)))},_transitionEnd:function(t){var e=this;t.target==e.scroller&&(e._unbind(C),e._startAni())},_startAni:function(){var t,e,i,n=this,a=n.x,r=n.y,s=Date.now();if(!n.animating){if(!n.steps.length)return void n._resetPos(400);if(t=n.steps.shift(),t.x==a&&t.y==r&&(t.time=0),n.animating=!0,n.moved=!0,n.options.useTransition)return n._transitionTime(t.time),n._pos(t.x,t.y),n.animating=!1,void(t.time?n._bind(C):n._resetPos(0));(i=function(){var l,c,d=Date.now();return d>=s+t.time?(n._pos(t.x,t.y),n.animating=!1,n.options.onAnimationEnd&&n.options.onAnimationEnd.call(n),void n._startAni()):(d=(d-s)/t.time-1,e=o.sqrt(1-d*d),l=(t.x-a)*e+a,c=(t.y-r)*e+r,n._pos(l,c),void(n.animating&&(n.aniTime=A(i))))})()}},_transitionTime:function(t){t+="ms",this.scroller.style[d]=t,this.hScrollbar&&(this.hScrollbarIndicator.style[d]=t),this.vScrollbar&&(this.vScrollbarIndicator.style[d]=t)},_momentum:function(t,e,i,n,a){var r=6e-4,s=o.abs(t)/e,l=s*s/(2*r),c=0,d=0;return t>0&&l>i?(d=a/(6/(l/s*r)),i+=d,s=s*i/l,l=i):0>t&&l>n&&(d=a/(6/(l/s*r)),n+=d,s=s*n/l,l=n),l*=0>t?-1:1,c=s/r,{dist:l,time:o.round(c)}},_offset:function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return t!=this.wrapper&&(e*=this.scale,i*=this.scale),{left:e,top:i}},_snap:function(t,e){var i,n,a,r,s,l,c=this;for(a=c.pagesX.length-1,i=0,n=c.pagesX.length;n>i;i++)if(t>=c.pagesX[i]){a=i;break}for(a==c.currPageX&&a>0&&c.dirX<0&&a--,t=c.pagesX[a],s=o.abs(t-c.pagesX[c.currPageX]),s=s?o.abs(c.x-t)/s*500:0,c.currPageX=a,a=c.pagesY.length-1,i=0;a>i;i++)if(e>=c.pagesY[i]){a=i;break}return a==c.currPageY&&a>0&&c.dirY<0&&a--,e=c.pagesY[a],l=o.abs(e-c.pagesY[c.currPageY]),l=l?o.abs(c.y-e)/l*500:0,c.currPageY=a,r=o.round(o.max(s,l))||200,{x:t,y:e,time:r}},_bind:function(t,e,i){(e||this.scroller).addEventListener(t,this,!!i)},_unbind:function(t,e,i){(e||this.scroller).removeEventListener(t,this,!!i)},destroy:function(){var e=this;e.scroller.style[l]="",e.hScrollbar=!1,e.vScrollbar=!1,e._scrollbar("h"),e._scrollbar("v"),e._unbind(S,t),e._unbind(w),e._unbind(k,t),e._unbind(T,t),e._unbind(_,t),e.options.hasTouch||(e._unbind("DOMMouseScroll"),e._unbind("mousewheel")),e.options.useTransition&&e._unbind(C),e.options.checkDOMChanges&&clearInterval(e.checkDOMTime),e.options.onDestroy&&e.options.onDestroy.call(e)},refresh:function(){var t,e,i,n,a=this,r=0,s=0;if(a.scale<a.options.zoomMin&&(a.scale=a.options.zoomMin),a.wrapperW=a.wrapper.clientWidth||1,a.wrapperH=a.wrapper.clientHeight||1,a.minScrollY=-a.options.topOffset||0,a.scrollerW=o.round(a.scroller.offsetWidth*a.scale),a.scrollerH=o.round((a.scroller.offsetHeight+a.minScrollY)*a.scale),a.maxScrollX=a.wrapperW-a.scrollerW,a.maxScrollY=a.wrapperH-a.scrollerH+a.minScrollY,a.dirX=0,a.dirY=0,a.options.onRefresh&&a.options.onRefresh.call(a),a.hScroll=a.options.hScroll&&a.maxScrollX<0,a.vScroll=a.options.vScroll&&(!a.options.bounceLock&&!a.hScroll||a.scrollerH>a.wrapperH),a.hScrollbar=a.hScroll&&a.options.hScrollbar,a.vScrollbar=a.vScroll&&a.options.vScrollbar&&a.scrollerH>a.wrapperH,t=a._offset(a.wrapper),a.wrapperOffsetLeft=-t.left,a.wrapperOffsetTop=-t.top,"string"==typeof a.options.snap)for(a.pagesX=[],a.pagesY=[],n=a.scroller.querySelectorAll(a.options.snap),e=0,i=n.length;i>e;e++)r=a._offset(n[e]),r.left+=a.wrapperOffsetLeft,r.top+=a.wrapperOffsetTop,a.pagesX[e]=r.left<a.maxScrollX?a.maxScrollX:r.left*a.scale,a.pagesY[e]=r.top<a.maxScrollY?a.maxScrollY:r.top*a.scale;else if(a.options.snap){for(a.pagesX=[];r>=a.maxScrollX;)a.pagesX[s]=r,r-=a.wrapperW,s++;for(a.maxScrollX%a.wrapperW&&(a.pagesX[a.pagesX.length]=a.maxScrollX-a.pagesX[a.pagesX.length-1]+a.pagesX[a.pagesX.length-1]),r=0,s=0,a.pagesY=[];r>=a.maxScrollY;)a.pagesY[s]=r,r-=a.wrapperH,s++;a.maxScrollY%a.wrapperH&&(a.pagesY[a.pagesY.length]=a.maxScrollY-a.pagesY[a.pagesY.length-1]+a.pagesY[a.pagesY.length-1])}a._scrollbar("h"),a._scrollbar("v"),a.zoomed||(a.scroller.style[d]="0",a._resetPos(400))},scrollTo:function(t,e,i,n){var o,a,r=this,s=t;for(r.stop(),s.length||(s=[{x:t,y:e,time:i,relative:n}]),o=0,a=s.length;a>o;o++)s[o].relative&&(s[o].x=r.x-s[o].x,s[o].y=r.y-s[o].y),r.steps.push({x:s[o].x,y:s[o].y,time:s[o].time||0});r._startAni()},scrollToElement:function(t,e){var i,n=this;t=t.nodeType?t:n.scroller.querySelector(t),t&&(i=n._offset(t),i.left+=n.wrapperOffsetLeft,i.top+=n.wrapperOffsetTop,i.left=i.left>0?0:i.left<n.maxScrollX?n.maxScrollX:i.left,i.top=i.top>n.minScrollY?n.minScrollY:i.top<n.maxScrollY?n.maxScrollY:i.top,e=void 0===e?o.max(2*o.abs(i.left),2*o.abs(i.top)):e,n.scrollTo(i.left,i.top,e))},scrollToPage:function(t,e,i){var n,o,a=this;i=void 0===i?400:i,a.options.onScrollStart&&a.options.onScrollStart.call(a),a.options.snap?(t="next"==t?a.currPageX+1:"prev"==t?a.currPageX-1:t,e="next"==e?a.currPageY+1:"prev"==e?a.currPageY-1:e,t=0>t?0:t>a.pagesX.length-1?a.pagesX.length-1:t,e=0>e?0:e>a.pagesY.length-1?a.pagesY.length-1:e,a.currPageX=t,a.currPageY=e,n=a.pagesX[t],o=a.pagesY[e]):(n=-a.wrapperW*t,o=-a.wrapperH*e,n<a.maxScrollX&&(n=a.maxScrollX),o<a.maxScrollY&&(o=a.maxScrollY)),a.scrollTo(n,o,i)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(k,t),this._unbind(T,t),this._unbind(_,t)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(C):E(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(t,e,i,n){var o=this,a=i/o.scale;o.options.useTransform&&(o.zoomed=!0,n=void 0===n?200:n,t=t-o.wrapperOffsetLeft-o.x,e=e-o.wrapperOffsetTop-o.y,o.x=t-t*a+o.x,o.y=e-e*a+o.y,o.scale=i,o.refresh(),o.x=o.x>0?0:o.x<o.maxScrollX?o.maxScrollX:o.x,o.y=o.y>o.minScrollY?o.minScrollY:o.y<o.maxScrollY?o.maxScrollY:o.y,o.scroller.style[d]=n+"ms",o.scroller.style[l]="translate("+o.x+"px,"+o.y+"px) scale("+i+")"+I,o.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},a=null,e.exports=P}(window,document)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(require,t,e){var n=i(2),o={mInfo:null,getGPS:function(t){if(G.versionCmp(G.AppVersion,"7.1.0")>0)return void this.useBridgeGPS(t);var e=localStorage.getItem("zipLocation"),i=localStorage.getItem("userGPS"),n=localStorage.getItem("autoGPS");if(e&&(!/iphone/i.test(navigator.userAgent)||G.isHybrid)){if(e=JSON.parse(e),e.orderCityLetter)return t({letter:e.orderCityLetter,code:e.orderCityCode,name:e.orderCityName,lat:e.lat,lng:e.lng,address:e.address}),this;if(i){var o=JSON.parse(i);if(o.letter)return t({letter:o.letter,code:o.code,name:o.name,lat:e.lat,lng:e.lng,address:e.address}),this}return t(e),this}return i?(t(JSON.parse(i)),this):n?(t(JSON.parse(n)),this):(window.G&&window.G.autoGPSListeners?window.G.addAutoGPSListener(t):t(""),this)},getHistoryCity:function(){var t=localStorage.getItem("userGPS")||localStorage.getItem("autoGPS");return t?JSON.parse(t):null},getAddressFromGPS:function(t,e){var i="ccff568d387a70b74963aeefdfd92cbd",n=document.createElement("iframe");n.style.width=n.style.height=0,document.body.appendChild(n);var o=n.contentWindow,a=o.document;a.open(),a.writeln('<script src="http://webapi.amap.com/maps?v=1.3&key='+i+'"></script>'),a.close(),o.onload=function(){o.AMap.service("AMap.Geocoder",function(){var i=new o.AMap.Geocoder({city:""});i.getAddress([t.lng,t.lat],function(t,i){e("complete"===t&&"OK"===i.info?i.regeocode:"")})})}},getTel:function(t){var e="4007999999";if(!t||"function"!=typeof t)return e;var i=document.cookie.match(new RegExp("(^| )400phone=([^;]*)(;|$)"));return null!==i?void t(i[2]):void(window.G&&window.G.phoneListeners?window.G.phoneListeners.push(t):t(e))},getUserGPS:function(t){var e=localStorage.getItem("userGPS");return e?(t(JSON.parse(e)),this):(t(""),this)},checkPositionChanged:function(t){window.G&&t&&window.G.checkCityChanged(t)},getMInfo:function(t){var e=this;if(e.mInfo)t(e.mInfo);else{var i=document.createElement("iframe");i.style.cssText="width:0;height:0",i.src="http://"+window.location.hostname.replace("dynamic.","")+"/site/m2015/html/proxy.html",document.body.appendChild(i),window.addEventListener("message",function n(o){var a=JSON.parse(o.data);"ready"==a.method&&i.contentWindow.postMessage(JSON.stringify({method:"info",data:""}),"*"),"info"==a.method&&(e.mInfo=a.data,t(e.mInfo),i.parentNode.removeChild(i),window.removeEventListener("message",n))})}},useBridgeGPS:function(t){var e=i(7);e.getGPS(function(e){e.success&&(e=e.data,t({letter:e.orderCityLetter,code:e.orderCityCode,name:e.orderCityName,lat:e.lat,lng:e.lng,address:e.address}))})},useAutoBridgeGPS:function(t){var e=i(7);e.getGPS(function(e){e.success&&(e=e.data,t({letter:e.letter,code:e.code,name:e.name,lat:e.lat,lng:e.lng,address:e.address}))})},getAutoGPS:function(t){var e=localStorage.getItem("zipLocation");if(G.versionCmp(G.AppVersion,"7.1.0")>0)return void this.useAutoBridgeGPS(t);if(e){var i=JSON.parse(e);return 0==i.lat&&0==i.lng&&(i.lat="",i.lng=""),t(i),this}var n=localStorage.getItem("autoGPS");return n?(t(JSON.parse(n)),this):(window.G&&window.G.autoGPSListeners?window.G.addAutoGPSListener(t):t(""),this)},getUserInfo:function(t){var e=this;if(e.userInfo)return t(e.userInfo),this;var i=window.G?window.G.getHost():"http://dynamic.m.tuniu.com";window.globalAjaxControl&&window.globalAjaxControl.user?n.ajax({url:i+"/m2015/global/index",type:"get",xhrFields:{withCredentials:!0},dataType:"json",data:{data:JSON.stringify({user:window.globalAjaxControl.user})},success:function(i){localStorage.setItem("userInfo",JSON.stringify(i.data.user)),e.userInfo=i.data.user,t(i.data.user)}}):t("")}};e.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(require,t,e){var i={call:function(t,e,i){G.webviewBridgeReady(function(n){n.callHandler(t,e,i)})},getGPS:function(t){var e=this;e.call("getGPS",{},t)},getAppVersion:function(t){var e=this;e.call("getAppVersion",{},t)},getNetStatus:function(t){var e=this;e.call("getNetStatus",{},t)},setAppHeader:function(t,e){this.call("setAppHeader",t,e)},setShare:function(t,e){this.call("share",t,e)}};e.exports=i}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(require,t,e){var n=i(2);!function(t,e,i){function n(t){return t}function o(t){try{return a(decodeURIComponent(t.replace(r," ")))}catch(e){try{return a(unescape(t.replace(r," ")))}catch(e){return""}}}function a(t){return 0===t.indexOf('"')&&(t=t.slice(1,-1).replace('\\"','"').replace("\\\\","\\")),t}var r=/\+/g,s=t.cookie=function(a,r,l){if(r!==i){if(l=t.extend({},s.defaults,l),null===r&&(l.expires=-1),"number"==typeof l.expires){var c=l.expires,d=l.expires=new Date;d.setDate(d.getDate()+c)}return r=s.json?JSON.stringify(r):String(r),e.cookie=[encodeURIComponent(a),"=",s.raw?r:encodeURIComponent(r),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=s.raw?n:o,p=e.cookie.split("; "),f=a?null:{},h=0,m=p.length;m>h;h++){var g=p[h].split("="),v=u(g.shift()),y=u(g.join("="));if(s.json&&(y=JSON.parse(y)),a&&a===v){f=y;break}a||(f[v]=y)}return f};s.defaults={},t.removeCookie=function(e,i){return null!==t.cookie(e)?(t.cookie(e,null,i),!0):!1}}(n,document)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(require,t,e){function i(t){var e=this;t=t||{},this.datasrc=t.datasrc||"data-lazyload",this.targetAttr=t.targetAttr||"src",e.arr=[],e.range=t.range||100,e.elements=t.elements||["img"],e.containers=t.containers||[document],e.scrollContainer=t.scrollContainer||window,e._loadElement=function(){e.loadElement.call(e)},e.scrollContainer.addEventListener("scroll",e._loadElement,!1),window.addEventListener("resize",e._loadElement,!1),e.init(),e._load()}i.prototype={init:function(){var t,e,i,n,o,a,r,s,l=this,c=l.elements,d=l.containers,u=l.datasrc;for(t=0,e=d.length;e>t;t+=1)for(i=0,n=c.length;n>i;i+=1)for(r=d[t].querySelectorAll(c[i]),o=0,a=r.length;a>o;o+=1)s=r[o].getAttribute(u),s&&l.arr.push(r[o])},_load:function(){var t=this;t.timer=setTimeout(function(){t._loadElement(),0===t.arr.length?(window.removeEventListener("scroll",t._loadElement,!1),window.removeEventListener("resize",t._loadElement,!1),clearTimeout(t.timer),delete t.timer):t._load()},1e3)},loadElement:function(){var t,e,i,n=this,o=n.scrollContainer.scrollTop||document.body.scrollTop||document.documentElement.scrollTop||window.pageYOffset,a=document.documentElement.clientHeight||window.innerHeight,r=n.range+o+a,s=[],l=n.arr,c=n.datasrc;for(t=0;e=l[t++];){var d=e.getBoundingClientRect().top;d>0&&r>=d?(i=e.getAttribute(c),i&&("background"==n.targetAttr?e.style.backgroundImage="url("+i+")":e.src=i,e.removeAttribute(c))):s.push(e)}n.arr=s},off:function(){this.arr=[]}},e.exports=i}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(require,t,e){function n(){return navigator.userAgent.toLowerCase().indexOf("samsung gt-i9505")>-1}function o(t){function e(t){var e="",i="";switch(t){case"green":e="green",i=".dialog-mask.green{background-color: rgba(0,0,0,0.5)}      .green.dialog-box{background-color:rgba(256,256,256,1);      border:0px;border-radius:4px;text-shadow:0px 0px 0px;-webkit-box-shadow:0px 0px 0px;}      .green .dialog-header{color:#333;border-bottom:0px;padding-top:7.4%;font-weight:bold;}      .green .dialog-body{color:#666;font-size:1.5rem;padding:7.4% 5.5%;}      .green .dialog-footer{color:#037AFF; border-top:0px;margin:0px 15px 13px;font-size:1.6rem;}      .green .dialog-cancel{width:45%; border:1px solid rgb(212,212,212); background-color:#fafafa;color:black;}      .green .dialog-ok{width:45%;background:#33BD61;color:white; border-radius:2px;}";break;case"black":var o="loading"===u.type?"rgba(0,0,0,0.6)":"#363636";e="black",i=".dialog-mask.black{background-color: rgba(0,0,0,0.3)}      .dialog-box{background-color:"+o+";"+ +(n()?"":"-webkit-box-shadow:0 2px 3px rgba(0,0,0,0.5);")+"      border:2px solid #505050;text-shadow:0 0 3px rgba(40, 53, 57, 0.5);-webkit-box-shadow:0px 0px 0px;}       .dialog-header{color:#fff;border-bottom:1px solid #4b4b4b;;padding-bottom:3.7%;font-weight:bold;}       .dialog-body{color:#fff;font-size:1.5rem;padding:7.4%}       .dialog-footer{color:#fff; border-top:1px solid #4b4b4b;font-size:1.6rem;}       .dialog-cancel{border-left:1px solid #4b4b4b}       .dialog-ok{}";break;case"white":e="white",i="info"===u.type?".dialog-box{background:rgba(0,0,0,0.7);}.dialog-body{color:#fff;}":""}return p.mask.addClass(e),p.dialogBox.addClass(e),i}function i(t){t.header&&p.dialogBox.append(p.header),t.body&&p.dialogBox.append(p.body),t.okBtn&&p.footer.append(p.okBtn),t.cancelBtn&&p.footer.append(p.cancelBtn),t.footer&&p.dialogBox.append(p.footer)}function o(){var t=a(".dialog-box").height(),e=(p.oh-t)/3;a(".dialog-box").css({top:e})}function l(t){t.preventDefault()}function c(){p.body.html(a('<span class="dialog-message">'+p.body.html()+"</span>")).prepend(p.icon),"center"===u.align&&""===u.mood&&p.body.find(".dialog-message").css("display","inline-block"),p.body.css("text-align",u.align)}var d={type:"confirm",colorType:"black",addedCss:"",title:"",message:"",messageSize:"1.8rem",okText:"确认",cancelText:"取消",placeHolder:"输入",mood:"",iconW:"70px",align:"center",duration:"2000",okCallback:function(){},cancelCallback:function(){},onload:function(t){}},u=a.extend({},d,t);a(".dialog-box").length&&(a("#dialogStyle").remove(),a(".dialog-mask").remove(),a(".dialog-box").remove(),clearTimeout(r),clearTimeout(s));var p={ow:document.documentElement.clientWidth,oh:document.documentElement.clientHeight,fontSize:"1.5rem",mask:a('<div class="dialog-mask"></div>'),dialogBox:a('<div class="dialog-box"></div>'),header:a('<div class="dialog-header"></div>'),body:a('<div class="dialog-body"></div>'),footer:a('<div class="dialog-footer"></div>'),okBtn:a('<div class="dialog-ok"></div>'),cancelBtn:a('<div class="dialog-cancel"></div>'),icon:a('<span class="'+("positive"===u.mood?"dialog-icon icon-tk-tick":"negative"===u.mood?"dialog-icon icon-tk-X":"")+'"></span>')},f=e(u.colorType);if(p.ih=350,p.br=.011*p.ow+"px",p.maskCss=".dialog-mask{position:fixed;top:0;left:0;width: 100%;height:"+p.oh+"px;background-color:rgba(0,0,0,0.56);z-index: 999;}",p.dialogCss=".dialog-box{border-radius:"+p.br+";opacity:0;position: fixed;left: 13%;width: 74%;z-index: 999;background-color:rgba(256,256,256,1);}.dialog-header{color:#333;padding-top:7.4%;font-weight:bold;font-size: 1.8rem;text-align: center;}.dialog-body{padding:7.4% 5.5%;font-size:1.5rem;color:#666;}.dialog-footer{overflow:hidden; border-top: 1px solid rgb(212,212,212);font-size:1.8rem;color:#037AFF;}.dialog-ok{width: 50%;text-align: center;float: left;line-height: 2.222;}.dialog-cancel{width: 49%;border-left: 1px solid rgb(212,212,212);text-align: center;float: right;line-height: 2.222;}.dialog-box.hide{opacity:0; -webkit-transition: opacity 3s; transition: opacity 3s;}.dialog-box.show{opacity:1; -webkit-transition: opacity 1s; transition: opacity 1s;}.dialog-icon{font-size:3.0rem; padding-right:20px; vertical-align:middle;display:table-cell;width:"+u.iconW+";text-align:right;color:#ddd;}.dialog-message{display:table-cell;text-align:left;}",p.header.html(u.title),"prompt"===u.type){var h=u.placeHolder,m=0===u.message.length?"0":"8%",g=u.message+"<input placeholder="+h+' class="prompt-input">';p.dialogCss+=".prompt-input{box-sizing:border-box; width:100%; height: 3rem; padding-left:5px; display: block;margin-top:"+m+";border:1px solid rgb(212,212,212);border-radius: 4px;font-size:1.543m}div.dialog-body{padding-bottom:8%;}",p.body.html(g)}else p.body.html(u.message);p.okBtn.html(u.okText),p.cancelBtn.html(u.cancelText),p.dialogCss+=f,p.dialogCss+=u.addedCss;var v={};switch(v.show=function(){"info"==u.type?(a(".dialog-box").removeClass("hide").addClass("show"),r=setTimeout(v.hide,u.duration)):"loading"==u.type?a(".dialog-box").removeClass("hide").addClass("show"):(a(".dialog-mask").show(),a(".dialog-box").removeClass("hide").addClass("show"),a(".dialog-mask").on({mousewheel:l,touchstart:l}))},v.hide=function(){"info"==u.type?(a(".dialog-box").removeClass("show").addClass("hide"),s=setTimeout(function(){a("#dialogStyle").remove(),a(".dialog-mask").remove(),a(".dialog-box").prev().remove(),a(".dialog-box").remove()},3e3)):(a("#dialogStyle").remove(),a(".dialog-mask").remove(),a(".dialog-box").remove())},u.type){case"confirm":c(),i({header:""==p.header.html()?null:p.header,body:p.body,footer:p.footer,okBtn:p.okBtn,cancelBtn:p.cancelBtn});break;case"info":c(),i({body:p.body}),p.mask=a("<div></div>"),p.dialogBox.css({border:"none","text-align":"center"});break;case"alert":c(),i({body:p.body,footer:p.footer,okBtn:p.okBtn}),p.okBtn.css("width","100%");break;case"custom":i({header:""==p.header.html()?null:p.header,body:""==p.body.html()?null:p.body,footer:p.footer,okBtn:p.okBtn,cancelBtn:""==p.cancelBtn.html()?null:p.cancelBtn}),""==p.cancelBtn.html()&&p.okBtn.css("width","100%");break;case"prompt":i({header:""==p.header.html()?null:p.header,body:p.body,footer:p.footer,okBtn:p.okBtn,cancelBtn:p.cancelBtn});break;case"loading":c(),i({body:p.body}),p.dialogBox.css({border:"none","text-align":"center"})}p.okBtn.click(function(t){var e="prompt"!==u.type?null:a("input",p.body).val(),i=u.okCallback(e);"stop"!=i&&v.hide()}),p.cancelBtn.click(function(t){u.cancelCallback(),"stop"!=stop&&v.hide()}),a(document).find("head").append('<style id="dialogStyle"></style>'),a("#dialogStyle").text(p.maskCss+p.dialogCss),a("body").append(p.mask).append(p.dialogBox),o(),v.show(),"loading"==u.type&&u.onload(v)}var a=i(2),r=null,s=null;o.alert=function(t){o({type:"alert",message:t})},o.tip=function(t){o({type:"info",align:"center",message:t})},e.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;!function(o){"use strict";var a=function(t,e){return a["string"==typeof e?"compile":"render"].apply(a,arguments)},r=!0;a.version="2.0.4",a.openTag="<%",a.closeTag="%>",a.isEscape=!0,a.isCompress=!1,a.parser=null,a.render=function(t,e,i){r=void 0==i;var n=a.get(t)||c({id:t,name:"Render Error",message:"No Template"});return n(e)},a.compile=function(t,e){function i(i){try{return new l(i,t)+""}catch(n){return o?c(n)():a.compile(t,e,!0)(i)}}var n=arguments,o=n[2],r="anonymous";"string"!=typeof e&&(o=n[1],e=n[0],t=r);try{var l=d(t,e,o)}catch(u){return u.id=t||e,u.name="Syntax Error",c(u)}return i.prototype=l.prototype,i.toString=function(){return l.toString()},t!==r&&(s[t]=i),i};var s=a.cache={},l=a.helpers=function(){var t=function(e,i){return"string"!=typeof e&&(i=typeof e,"number"===i?e+="":e="function"===i?t(e.call(e)):""),e},e={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},i=function(i){return r?t(i).replace(/&(?![\w#]+;)|[<>"']/g,function(t){return e[t]}):t(i).replace(/&(?![\w#]+;)|["']/g,function(t){return e[t]})},n=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},o=function(t,e){if(n(t))for(var i=0,o=t.length;o>i;i++)e.call(t,t[i],i,t);else for(i in t)e.call(t,t[i],i)};return{$include:a.render,$string:t,$escape:i,$each:o}}();a.helper=function(t,e){l[t]=e},a.onerror=function(t){var e="Template Error\n\n";for(var i in t)e+="<"+i+">\n"+t[i]+"\n\n";o.console&&console.error(e)},a.get=function(t){var e;if(s.hasOwnProperty(t))e=s[t];else if("document"in o){var i=document.getElementById(t);if(i){var n=i.value||i.innerHTML;e=a.compile(t,n.replace(/^\s*|\s*$/g,""))}}return e};var c=function(t){return a.onerror(t),function(){return"{Template Error}"}},d=function(){var t=l.$each,e="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",i=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,n=/[^\w$]+/g,o=new RegExp(["\\b"+e.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),r=/^\d[^,]*|,\d[^,]*/g,s=/^,+|,+$/g,c=function(t){return t.replace(i,"").replace(n,",").replace(o,"").replace(r,"").replace(s,"").split(/^$|,+/)};return function(e,i,n){function o(t){return v+=t.split(/\n/).length-1,a.isCompress&&(t=t.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"")),t&&(t=w[1]+u(t)+w[2]+"\n"),t}function r(t){var e=v;if(h?t=h(t):n&&(t=t.replace(/\n/g,function(){return v++,"$line="+v+";"})),0===t.indexOf("=")){var i=!/^=[=#]/.test(t);if(t=t.replace(/^=[=#]?|[\s;]*$/g,""),i&&a.isEscape){var o=t.replace(/\s*\([^\)]+\)/,"");l.hasOwnProperty(o)||/^(include|print)$/.test(o)||(t="$escape("+t+")")}else t="$string("+t+")";t=w[1]+t+w[2]}return n&&(t="$line="+e+";"+t),s(t),t+"\n"}function s(e){e=c(e),t(e,function(t){t&&!y.hasOwnProperty(t)&&(d(t),y[t]=!0)})}function d(t){var e;"print"===t?e=T:"include"===t?(b.$include=l.$include,e=_):(e="$data."+t,l.hasOwnProperty(t)&&(b[t]=l[t],e=0===t.indexOf("$")?"$helpers."+t:e+"===undefined?$helpers."+t+":"+e)),x+=t+"="+e+","}function u(t){return"'"+t.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}var p=a.openTag,f=a.closeTag,h=a.parser,m=i,g="",v=1,y={$data:1,$id:1,$helpers:1,$out:1,$line:1},b={},x="var $helpers=this,"+(n?"$line=0,":""),S="".trim,w=S?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],k=S?"$out+=$text;return $text;":"$out.push($text);",T="function($text){"+k+"}",_="function(id,data){data=data||$data;var $text=$helpers.$include(id,data,$id);"+k+"}";t(m.split(p),function(t){t=t.split(f);var e=t[0],i=t[1];1===t.length?g+=o(e):(g+=r(e),i&&(g+=o(i)))}),m=g,n&&(m="try{"+m+"}catch(e){throw {id:$id,name:'Render Error',message:e.message,line:$line,source:"+u(i)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')};}"),m=x+w[0]+m+"return new String("+w[3]+");";try{var C=new Function("$data","$id",m);return C.prototype=b,C}catch(A){throw A.temp="function anonymous($data,$id) {"+m+"}",A}}}();n=function(){return a}.call(e,i,e,t),!(void 0!==n&&(t.exports=n)),o.template=a}(this)},function(t,e,i){var n;n=function(require,t,e){function i(t){this.config=this.extend(this.extend({},o),t)}var n=i.prototype;n.support=function(){var t="test",e=sessionStorage;try{return e.setItem(t,1),e.removeItem(t),!0}catch(i){return alert("您可能启用了无痕浏览模式，开启后将无法为您节省流量且会导致部分功能无法使用，建议关闭无痕浏览后继续访问。"),!1}}(),n.extend=function(t,e){if(t&&"object"==typeof t&&e&&"object"==typeof e)for(var i in e)e[i]&&(t[i]=e[i]);return t},n.getKey=function(t){return(t+"").toUpperCase()},n.getTime=function(t){return+new Date+(+t||0)},n.setExpiredTime=function(t){return this.config.timeout=parseInt(t,10),this},n.set=function(t,e,i){var n=this,o=this.config.type;t=this.getKey(t);var a=this.getTime(i||this.config.timeout);e&&"function"==typeof e&&(e=e(n.get(t)));var r={data:e,timeout:a,savetime:this.getTime()};return r=JSON.stringify(r),this.setItem(o,t,r),this},n.get=function(t){var e=this,i=this.config.type;t=this.getKey(t);var n;return n=this.getItem(i,t),n=n&&JSON.parse(n),n&&n.timeout>e.getTime()?n.data:(e.clear(t),null)},n.clear=function(t){var e=this.config.type;return t=this.getKey(t),this.removeItem(e,t),this},n.setItem=function(t,e,i){var n,o=this.support,a=this;o?window[t+"Storage"].setItem(e,i):(n=a.getWindowName(),n[e]=i,a.setWindowName(n))},n.getItem=function(t,e){var i,n=this.support,o=this;return n?i=window[t+"Storage"].getItem(e):(i=o.getWindowName(),i=i&&i[e]),i},n.removeItem=function(t,e){var i,n=this.support,o=this;n?i=window[t+"Storage"].removeItem(e):(i=o.getWindowName(),i&&delete i[e],o.setWindowName(i))},n.getWindowName=function(){var t=window.name;try{t=JSON.parse(t)}catch(e){t={}}return t},n.setWindowName=function(t){t=t||{},window.name=JSON.stringify(t)};var o={timeout:31536e6,type:"local"};e.exports=i}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(require,t,e){var n=i(2),o="/api/home/newData/getContent",a="/m2015/admin/GetCmsProductAjax",r=function(t){this.storedCityInfor=t,n(".J_product_rec").length>0&&this.init()};r.prototype={init:function(){this.root=n(".J_product_rec"),this.moduleProduct={},n(window).scroll(this._onWindowScrollEvent.bind(this))},off:function(){n(window).off("scroll",this._onWindowScrollEvent)},_supportSticky:function(){if(null!=this.isSptSticky)return this.isSptSticky;for(var t=["","-webkit-"],e="",i=0;i<t.length;i++)e+="position:"+t[i]+"sticky;";var n=document.createElement("div"),o=document.body;n.style.cssText="display:none;"+e,o.appendChild(n);var a=/sticky/i.test(window.getComputedStyle(n).position);return o.removeChild(n),this.isSptSticky=a},_onWindowScrollEvent:function(){var t=this,e=n(window).scrollTop(),i=n(window).height(),a=t.root.offset(),r=window.screen.availWidth>360?50:45;if(e+i+50>=a.top+a.height)if(0==t.root.find(".J_product_categories").length)t.root.attr("loading")||(t.root.attr("loading",1).html(t._makeProductWait()),n.ajax({url:o,data:{d:JSON.stringify({cityCode:t.storedCityInfor.code})},dataType:"json",success:function(e){t._makeTabs(e),t.root.attr("loading",0)}}));else{var s=t.root.find(".list-block"),l=(s.attr("current_page")||1)- -1;if(1==s.attr("loading")||1==s.attr("finished"))return;s.attr("loading",1),t._loadProducts(t._getSelectedModuleId(),l,function(e){return 0==e.mItems.length?void s.attr("finished",1):(s.append(t._makeProductList(e)),void s.attr("current_page",l).attr("loading",0))})}if(null!=t.mainCategories&&!t._supportSticky()){if(a.top<e+r&&!t.root.hasClass("fixed")){var c=t.subCategories.height()+45;t.root.addClass("fixed").css("padding-top",c)}a.top>e+r&&t.root.hasClass("fixed")&&t.root.removeClass("fixed").css("padding-top",0)}},_makeProductTicket:function(t){if(!t||!t.list||2!=t.list.length)return"";var e=t;return'<li class="z-m-product-item z-m-product-ticket">                 <div class="ticket-block">                     <a class="ticket-product-item" href="'+e.list[0].url+'">                         <div class="ticket-top">                             <div class="ticket-city-separate"></div>                             <div class="ticket-city-box">                                 <div class="ticket-city ticket-city-start">'+e.list[0].orgCityName+'</div><div class="ticket-home">'+(1==e.list[0].type?"单程":"往返")+'</div><div class="ticket-city ticket-city-end">'+e.list[0].dstCityName+'</div>                             </div>                             <div class="ticket-time">出发日期：'+e.list[0].departureDate+'</div>                         </div>                         <div class="ticket-price-box">                             <span class="ticket-price">                                 ￥<span class="ticket-price-now">'+e.list[0].price+"</span>                             </span>起&nbsp;("+e.list[0].discount+'折)                         </div>                     </a>                     <a class="ticket-product-item" href="'+e.list[1].url+'">                         <div class="ticket-top">                             <div class="ticket-city-separate"></div>                             <div class="ticket-city-box">                                 <div class="ticket-city ticket-city-start">'+e.list[1].orgCityName+'</div><div class="ticket-home">'+(1==e.list[1].type?"单程":"往返")+'</div><div class="ticket-city ticket-city-end">'+e.list[1].dstCityName+'</div>                             </div>                             <div class="ticket-time">出发日期：'+e.list[1].departureDate+'</div>                         </div>                         <div class="ticket-price-box">                             <span class="ticket-price">                                 ￥<span class="ticket-price-now">'+e.list[1].price+"</span>                             </span>起&nbsp;("+e.list[1].discount+'折)                         </div>                     </a>                 </div>                 <a href="'+e.url+'" class="ticket-more">更多特价机票<i class="icon-title-back"></i></a>               </li>'},bindEvents:function(){var t=this;this.mainCategories.on("touchstart",function(t){var e=this,i=n(e);t=t.touches?t.touches[0]:t;var o=t.pageX,a=e.scrollLeft,r=function(t){var t=t.touches?t.touches[0]:t;Math.abs(o-t.pageX)<24||(e.scrollLeft=a+(o-t.pageX))},s=function(t){i.off("touchmove",r).off("touchend",s)};i.on("touchmove",r).on("touchend",s)}).on("click","li",function(e){var i=n(e.target),o=i.index(),a=t._getSelectedModuleId(),r=t.root.find(".list-block");r.attr("current_page",1).attr("loading",0).attr("finished",0),t.mainCategories.find("li.active").removeClass("active"),i.addClass("active"),t._autoAnimatToTab(i,i.parent()),t.subCategories.find(".sub-list").removeClass("show").eq(o).addClass("show"),t._onClickModule(t._getSelectedModuleId(),a)}),this.subCategories.on("click","li",function(e){var i=n(e.target);if("LI"!=e.target.tagName&&(i=i.parent()),i.attr("data-id")){var o=t._getSelectedModuleId(),a=t.root.find(".list-block");a.attr("current_page",1).attr("loading",0).attr("finished",0),i.addClass("active").siblings(".active").removeClass("active"),t._onClickModule(i.attr("data-id"),o)}})},_getSelectedModuleId:function(){return this.subCategories.find(".sub-list.show").find("li.active").attr("data-id")},_onClickModule:function(t,e){var i=this,o=this.moduleProduct,r=window.screen.availWidth>360?50:45;e&&e in o&&(o[e].scrollTop=n(window).scrollTop()),t in o?(this.productList.html(this._makeProductList(o[t])),n(window).scrollTop(Math.max(i.root.offset().top-r-1,n(window).scrollTop()))):n.ajax({url:a,data:{moduleId:t,currentPage:1,pageSize:10},dataType:"json",success:function(e){if(e&&e.data&&e.data.mItems){e=e.data,i.productList.html(i._makeProductList(e));var a=i.root.offset().top-r-1;o[t]={mItems:e.mItems,scrollTop:a},n(window).scrollTop(a)}}})},_loadProducts:function(t,e,i){var o=this;n.ajax({url:a,data:{moduleId:t,currentPage:e,pageSize:10},dataType:"json",success:function(t){i.call(o,t.data)}})},_makeTabs:function(t){var e=this;if(t=t.data?t.data:t,!t.cms)return void this.root.empty();for(var i=n('<ul class="J_product_categories main-categories"></ul>'),o=n('<ul class="J_sub_categories sub-categories"></ul>'),a=n('<ul class="list-block""></ul>'),r=t.cms,s=0;s<r.length;s++){var l=r[s];if(null!=l.gItems&&0!=l.gItems.length){i.append(n('<li class="z-ellipsis '+(0==s?"active":"")+'" style="width: '+((r.length>3?25:parseInt(100/r.length))-.1)+'%">'+l.gTitle+"</li>"));var c=n('<ul class="sub-list '+(0==s?"show":"")+'"></ul>').appendTo(o);l.gItems.forEach(function(i,o){var r=n('<li class="thin-border" data-id="'+i.mId+'"><div class="sub-list-name z-ellipsis">'+i.mTitle+"</div></li>");if(c.append(r),0==o&&i.mItems.length>0){r.addClass("active");var l={mItems:i.mItems};0==s&&(l.ticketItem=t.flight,a.html(e._makeProductList(l))),e.moduleProduct[i.mId]=l}})}}this._supportSticky()&&this.root.addClass("sticky"),this.mainCategories=i,this.subCategories=o,this.productList=a,this.root.prepend(a).prepend(o).prepend(i),this.bindEvents()},_decidePeople:function(t){var e="";return e=0==t?"新品上线":t>=1&&9999>=t?t+"人出游":t>=1e4&&999999>=t?(t/1e4).toFixed(1)+"万人出游":t>1e6?parseInt(t/1e4)+"万人出游":"新品上线"},_makeProductList:function(t){function e(t){var e={hot:"<em>人气爆棚</em>",satisfy:'<em class="lines-2">超高<br>满意度</em>',custom:'<em class="color-green">为您定制</em>',mobile:'<em class="color-orange">手机专享</em>',sale:'<em class="color-orange">特卖优惠</em>'};return t.prdPeople&&t.prdPeople>2e4?'<span class="product-recommend-label">'+e.hot+"</span>":t.prdRemark&&t.prdRemark>200&&t.prdSatisfaction&&t.prdSatisfaction>=95?'<span class="product-recommend-label">'+e.satisfy+"</span>":t.prdsaleType&&/[2,3,4]000/.test(t.prdsaleType)?'<span class="product-recommend-label">'+e.sale+"</span>":t.prdsaleChannel&&/(![4,5])0000/.test(t.prdsaleChannel)?'<span class="product-recommend-label">'+e.mobile+"</span>":""}function i(t){var e="";return t.prdName&&(e=-1!==t.prdName.indexOf("&gt;")?t.prdName.slice(0,t.prdName.indexOf("&gt;")).replace("&lt;",""):-1!==t.prdName.indexOf(">")?t.prdName.slice(0,t.prdName.indexOf(">")).replace("<",""):t.prdName),e}function o(t){var e="";return 6==t.prdClassBrandId?t.prdRemark?'<span class="icon-people"></span><span>'+(t.prdRemark||0)+'人点评</span><span class="icon-love"></span><span>'+t.prdSatisfaction+"%满意</span>":"":3==t.prdClassBrandId?'<span class="hotel_type">'+t.prdMixedAttr1+"</span><span>"+t.prdMixedAttr2.split(" ")[0]+"</span>":(t.prdName&&(e=-1!==t.prdName.indexOf("&gt;")?t.prdName.slice(t.prdName.indexOf("&gt;")+4,t.prdName.length):-1!==t.prdName.indexOf(">")?t.prdName.slice(t.prdName.indexOf(">")+1,t.prdName.length):t.prdName),e)}function a(t){var e=[],i='<div class="product-tags">';return t.prdPromotionType&&"立减优惠"===t.prdPromotionType&&e.push({text:"立减",color:"#fa7864"}),t.prdIsNiuRen&&e.push({text:"牛人专线",color:"#eeaa44"}),t.prdIsGuaGuo&&e.push({text:"瓜果亲子游",color:"#eeaa44"}),t.prdIsHappyParents&&e.push({text:"乐开花爸妈游",color:"#eeaa44"}),t.prdFeature&&t.prdFeature.split(",").forEach(function(t){t&&e.push({text:t})}),t.prdRecommend&&t.prdRecommend.split(/ +/).forEach(function(t){t&&e.push({text:t})}),e.length?(e.forEach(function(t){i+='<span class="label hairlines" style="'+(t.color?"border-color:"+t.color+";color:"+t.color:"")+'">'+(t.text.length>7?t.text.slice(0,7)+"…":t.text)+"</span>"}),i+="</div>"):""}var r=t.mItems,s="",l={1:"icon-tours",2:"icon-pkg",8:"icon-drive",3:"icon-hotel4",6:"icon-ticket3"};if(0===r.length)return this._makeProductEmpty();for(var c=0;c<r.length;c++)4==c&&t.ticketItem&&(s+=this._makeProductTicket(t.ticketItem)),s=s+'<li class="z-m-product-item"><a href="'+r[c].prdLinkMUrl+'" data-appurl="'+r[c].prdLinkAppUrl+'"><div class="item-top"><div class="product-image"><img src="'+r[c].prdImgUrl+'"><div class="image-gra"/></div><div class="sati-peo"><div class="peo">'+this._decidePeople(r[c].prdPeople)+"</div>"+(r[c].prdSatisfaction&&r[c].prdPeople?'<div class="sati">'+r[c].prdSatisfaction+"%满意</div>":"")+'</div><div class="product-extra"><span class="icon '+(l[r[c].prdClassBrandId]||l[1])+'"></span><span>'+r[c].prdClassBrandName+"</span>"+(r[c].prdDepartCity?'<span class="separator">|</span><span>'+r[c].prdDepartCity+(-1==[1,8].indexOf(r[c].prdClassBrandId)||-1!=r[c].prdDepartCity.indexOf("出发")?"":"出发")+"</span>":"")+"</div>"+('<div class="product-price price-schema-1"><div class="product-price-now '+(r[c].prdTuniuPrice-r[c].prdSalePrice<=0?"noPro":"")+'">￥<em>'+r[c].prdSalePrice+"</em>起</div>"+(r[c].prdTuniuPrice-r[c].prdSalePrice>0?'<div class="product-promotion">立省￥'+(r[c].prdTuniuPrice-r[c].prdSalePrice)+"</div>":"")+"</div>")+e(r[c])+'</div><div class="item-bottom"><h5 class="product-title">'+i(r[c])+'</h5><p class="product-describe">'+o(r[c])+"</p>"+a(r[c])+"</div></a></li>";return n(s)},_makeProductWait:function(){return n('<div class="loading z-tab-loading">                 <div class="spinner">                 <div class="spinner-inner"></div>                 <div class="cutout"></div>                     <div class="s-circle"></div>                 </div>                 <div class="loading-logo"><span class="icon-logo"></span></div>                 </div>')},_makeProductEmpty:function(){return n('<li class="empty"><div class="t1">暂时没有相关产品</div><div class="t2">去其他地方逛逛吧</div></li>')},_autoAnimatToTab:function(t,e){function i(){return 0===s?void e.scrollLeft(n+a):(e.scrollLeft(n+(s-l)/s*r),l--,void(l>=0&&requestAnimationFrame(i)))}var n=e.scrollLeft(),o=t.index(),a=t.width()*t.index()-(e.width()-t.width())/2;a=Math.min(e[0].scrollWidth-e.width(),Math.max(0,a)),a=0==o?0:o==e.children().length-1?e[0].scrollWidth-e.width():a;var r=a-n,s=Math.abs(parseInt(r/10)),l=s;requestAnimationFrame(i)},error:function(){this.root.remove()}},e.exports=r}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(require,t,e){"use strict";var i='<div class="top-sections">      <%          var categories = (data[\'categories\'] && data[\'categories\'][\'content\'] && data[\'categories\'][\'content\'].length) ? data[\'categories\'][\'content\'] : [];         var categoriesImgUrl =  (data[\'categories\'] && data[\'categories\'][\'imgUrl\']) ? data[\'categories\'][\'imgUrl\'] : "";      %>     <% if(categories.length > 0) { var categoriesCount = categories.length; %>     <section class="i-category-list swipe-container" id="J_category-slider" node-type="首页导航" data-type="ga" style="<%= categoriesImgUrl ? (\'background-image:url(\' + categoriesImgUrl + \')\') : \'\' %>">         <ul class="swipe-box clearfix">         <% for(var i = 0; i< categoriesCount; i++) { %>             <% if (i % 10 == 0) { %>                 <li class="swipe-frame">                     <ul class="list">             <% } %>                         <li>                             <a href="<%= categories[i].url %>" node-type="首页导航-<%= categories[i].iconName %>"                                data-type="ga">                                 <span class="btn_icon">                                 <% if(i >= 10) { %>                                     <img width="40" height="40" data-src="<%= categories[i].iconUrl %>" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2P8////fwAKAAP+j4hsjgAAAABJRU5ErkJggg==" />                                 <% } else { %>                                     <img width="40" height="40" src="<%= categories[i].iconUrl %>" />                                 <% } %>                                 </span>                                 <span class="word"><%= categories[i].iconName %></span>                             </a>                         </li>             <% if (i % 10 == 10 - 1 || i == categoriesCount - 1) { %>                     </ul>                 </li>             <% } %>         <% } %>         </ul>         <div class="swipe-pagenavi" id="J_category-pagenavi">             <% var pageCount = ceil(categoriesCount / 10); %>             <% if (pageCount > 1) {%>                 <% for (var j = 0; j < pageCount; j++) { %>                     <a <% if (j == 0) { %>                         class="active"                     <% } %> href="javascript:void(0);"></a>                 <% } %>             <% } %>         </div>     </section>     <% } %>      <% var financeService = data[\'financeService\'] || {}; %>     <% if( financeService.content && financeService.content.length > 0 ){ %>     <section class="i-quick-entry">         <ul class="quick-entry-list">             <% var financeServiceDisplayLength = financeService.content.length - financeService.content.length % 3; %>             <% for(var i=0; i<financeServiceDisplayLength; i++ ){ %>             <li>                 <a href="<%= financeService.content[i]["url"] %>" class="thin-border">                     <img class="navi-thumb" src="<%= financeService.content[i]["imgUrl"] %>">                     <h3><%= financeService.content[i]["title"] %></h3>                 </a>             </li>             <% } %>         </ul>     </section>     <% } %>      <% var adList = data[\'adList\'] || [];%>     <% if( adList.length > 0) { %>     <section class="i-swipe-banner">         <div class="swipe-banner-content" id="J_banner-slider">             <ul node-type="首页轮播图" data-type="ga">             <% for(var i=0; i<adList.length; i++ ){ %>                 <li><a href="<%= adList[i]["url"] %>" node-type="首页轮播图NO.<%= i %>" data-type="ga">                 <% if( i > 0) { %>                     <img data-src="<%= adList[i]["image"] %>" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2P8////fwAKAAP+j4hsjgAAAABJRU5ErkJggg==" />                 <% } else { %>                     <img src="<%= adList[i]["image"] %>" />                 <% } %>                 </a></li>             <% } %>             </ul>             <div class="swipe-pagenavi" id="J_banner-pagenavi">             <% for(var i=0; i < adList.length; i++ ){ %>                 <a <% if (i == 0) { %>                     class="active"                 <% } %> href="javascript:void(0);"></a>             <% } %>             </div>         </div>     </section>     <% } %>      <%          var headlines = (data[\'headlines\'] && data[\'headlines\'][\'left\'] && data[\'headlines\'][\'left\'].length) ? data[\'headlines\'][\'left\'] : [];         var news = (data[\'headlines\'] && data[\'headlines\'][\'right\']) ? data[\'headlines\'][\'right\'] : {};         var headlinesImgUrl =  (data[\'headlines\'] && data[\'headlines\'][\'imgUrl\']) ? data[\'headlines\'][\'imgUrl\'] : "";     %>     <% if( headlines.length > 0 ) { %>     <section class="i-headline thin-border" style="<%= headlinesImgUrl ? (\'background-image:url(\' + headlinesImgUrl + \')\') : \'\' %>">         <div class="headline-txt">             <ul data-role="marquee" data-direction="vertical">             <% for(var i=0; i<headlines.length; i++ ){ %>                 <li>                     <a href="<%= headlines[i]["url"] %>"><img <% if (i > 0) { %>data-<% } %>src="<%= headlines[i]["imgUrl"] %>" class="headline-icon"><%= headlines[i]["title"] %></a>                 </li>             <% } %>             </ul>         </div>         <% if (news["imgUrl"] && news["url"]) { %>         <a class="headline-pic" href="<%= news["url"] %>"><img src="<%= news["imgUrl"] %>"></a>         <% } %>     </section>     <% } %>      <% if (data[\'themeAds_1\'] && data[\'themeAds_1\'].length > 0) { %>     <div class="i-theme-activity-wrapper i-theme-activity-wrapper-1">         <% for(var i = 0; i < data[\'themeAds_1\'].length; i++) { %>         <% for(var j = 0; j < data[\'themeAds_1\'][i][\'blocks\'].length; j++) { %>         <% var themeAd = data[\'themeAds_1\'][i][\'blocks\'][j]; %>         <div class="i-theme-activity" style="background-color: <%= themeAd[\'backColor\'] ? themeAd[\'backColor\'] : \'\' %>;">             <div class="ta-head">                 <a href="<%= themeAd[\'mUrl\'] ? themeAd[\'mUrl\'] : \'javascript:;\' %>">                     <% if (themeAd[\'imgUrl\']) { %>                     <img src="<%= themeAd[\'imgUrl\'] %>" >                     <% } %>                 </a>             </div>             <% if (themeAd[\'floors\'] && themeAd[\'floors\'].length > 0) { %>             <ul class="ta-floors">                 <% for(var k = 0; k < themeAd[\'floors\'].length; k++) { %>                     <% var floor = themeAd[\'floors\'][k]; %>                     <% if (floor["ads"] && floor["ads"].length > 0) { %>                     <li class="ta-floor-type-<%= floor[\'style\'] ? floor[\'style\'] : 1 %>">                         <% for(var l = 0; l < floor[\'ads\'].length; l++) { %>                         <a href="<%= floor[\'ads\'][l][\'mUrl\'] %>" style="background-image:url(<%= floor[\'ads\'][l][\'imgUrl\'] %>);"></a>                         <% } %>                     </li>                     <% } %>                 <% } %>             </ul>             <% } %>         </div>         <% }} %>     </div>     <% } %>      <%          var destinations = (data[\'destination\'] && data[\'destination\'][\'content\'] && data[\'destination\'][\'content\'].length) ? data[\'destination\'][\'content\'] : [];         var destinationsImgUrl =  (data[\'destination\'] && data[\'destination\'][\'imgUrl\']) ? data[\'destination\'][\'imgUrl\'] : "";     %>     <% if( destinations.length > 0 ) { %>     <section class="i-destination" style="<%= destinationsImgUrl ? (\'background-image:url(\' + destinationsImgUrl + \')\') : \'\' %>">         <ul class="clearfix">             <% for (var i = 0; i < destinations.length; i++) { %>                 <% var $destination = destinations[i]; %>                 <li>                     <a href="<%= $destination["url"] %>" node-type="<%= $destination["title"] %>" data-type="ga">                         <% if($destination["image"]) { %>                             <img src="<%= $destination["image"] %>">                         <% } else if($destination["title"] && $destination["desc"]) { %>                             <div class="destination-text"><h3><%= $destination["title"] %></h3><%= $destination["desc"] %></div>                         <% } %>                     </a>                 </li>             <% } %>         </ul>     </section>     <% } %>          <%          var abroadService = data[\'abroadService\'] || {};          var abroadServiceImgUrl =  (data[\'abroadService\'] && data[\'abroadService\'][\'imgUrl\']) ? data[\'abroadService\'][\'imgUrl\'] : "";     %>     <% if(abroadService.content && abroadService.content.length > 0 ){ %>     <section class="i-abroad-destination" style="<%= abroadServiceImgUrl ? (\'background-image:url(\' + abroadServiceImgUrl + \')\') : \'\' %>">         <ul class="clearfix">             <% var abroadServiceDisplayLength = abroadService.content.length - abroadService.content.length % 3; %>             <% for(var i=0; i<abroadServiceDisplayLength; i++ ){ %>                 <li>                     <a href="<%= abroadService.content[i]["url"] %>" style="<%= abroadService.content[i][\'bgColor\'] ? (\'background:\' + abroadService.content[i][\'bgColor\']) : \'\' %>">                         <p><%= abroadService.content[i]["title"] %></p>                         <% if(abroadService.content[i]["imgUrl"] && (!abroadService.content[i]["title"])) { %>                             <img src="<%= abroadService.content[i]["imgUrl"] %>" >                         <% } %>                     </a>                 </li>             <% } %>         </ul>     </section>     <% } %>      <%          var destAll = data[\'destAll\'] || {};          var destAllImgUrl =  (data[\'destAll\'] && data[\'destAll\'][\'imgUrl\']) ? data[\'destAll\'][\'imgUrl\'] : "";     %>     <% if(destAll.content && destAll.content.length > 0 ){ %>     <section class="i-global-destination" style="<%= destAllImgUrl ? (\'background-image:url(\' + destAllImgUrl + \')\') : \'\' %>">         <% var destAllLink = destAll.content[0]; %>         <a href="<%= destAllLink["url"] %>" style="<%= destAllLink[\'bgColor\'] ? (\'background:\' + destAllLink[\'bgColor\']) : \'\' %>">             <span><%= destAllLink["title"] %></span><i class="more-signal"></i>             <% if(destAllLink["imgUrl"] && (!destAllLink["title"])) { %>             <img src="<%= destAllLink["imgUrl"] %>" >             <% } %>         </a>            </ul>     </section>     <% } %> </div>  <% if (data[\'themeAds_2\'] && data[\'themeAds_2\'].length > 0) { %> <div class="i-theme-activity-wrapper i-theme-activity-wrapper-2">     <% for(var i = 0; i < data[\'themeAds_2\'].length; i++) { %>     <% for(var j = 0; j < data[\'themeAds_2\'][i][\'blocks\'].length; j++) { %>     <% var themeAd = data[\'themeAds_2\'][i][\'blocks\'][j]; %>     <div class="i-theme-activity" style="background-color: <%= themeAd[\'backColor\'] ? themeAd[\'backColor\'] : \'\' %>;">         <div class="ta-head">             <a href="<%= themeAd[\'mUrl\'] ? themeAd[\'mUrl\'] : \'javascript:;\' %>">                 <% if (themeAd[\'imgUrl\']) { %>                 <img src="<%= themeAd[\'imgUrl\'] %>" >                 <% } %>             </a>         </div>         <% if (themeAd[\'floors\'] && themeAd[\'floors\'].length > 0) { %>         <ul class="ta-floors">             <% for(var k = 0; k < themeAd[\'floors\'].length; k++) { %>                 <% var floor = themeAd[\'floors\'][k]; %>                 <% if (floor["ads"] && floor["ads"].length > 0) { %>                 <li class="ta-floor-type-<%= floor[\'style\'] ? floor[\'style\'] : 1 %>">                     <% for(var l = 0; l < floor[\'ads\'].length; l++) { %>                     <a href="<%= floor[\'ads\'][l][\'mUrl\'] %>" style="background-image:url(<%= floor[\'ads\'][l][\'imgUrl\'] %>);"></a>                     <% } %>                 </li>                 <% } %>             <% } %>         </ul>         <% } %>     </div>     <% }} %> </div> <% } %>  <%if(data[\'signGift\']&&data[\'signGift\'][\'image\']){%>     <section class="i-sign clearfix">         <a href="<%= data[\'signGift\'][\'url\'] %>">             <img data-src="<%= data[\'signGift\'][\'image\']; %>">         </a>     </section> <%}%>  <%      var specials = (data[\'specials\'] && data[\'specials\'][\'content\'] && data[\'specials\'][\'content\'].length) ? data[\'specials\'][\'content\'] : [];     var specialsStyle =  (data[\'specials\'] && data[\'specials\'][\'style\']) ? data[\'specials\'][\'style\'] : "";  %> <% if( specials.length > 0 ){ %> <% var isSpecialLazyload = (data[\'themeAds_1\'] && data[\'themeAds_1\'].length) || (data[\'themeAds_2\'] && data[\'themeAds_2\'].length); %> <section class="i-specials clearfix">     <% if (specialsStyle == 2) { %>     <table class="specials-3-items">         <tr>         <% var firstSpecial = specials[0]; %>         <% var hasCountDown = firstSpecial["promotionDeadline"] && firstSpecial["promotionStartTime"]; %>         <td class="countdown-specials J_countdown-specials <% if (!hasCountDown) { %>no-count<% } %>" onclick="location.href=\'<%= firstSpecial["url"] %>\'">             <% if (firstSpecial["title"]) { %>             <span class="product-labels"><%= firstSpecial["title"] %></span>             <% } %>             <% if( isSpecialLazyload ){ %>             <div class="product-cover" data-bg-lazyload="<%= firstSpecial["imgUrl"]; %>"></div>             <% } else { %>             <div class="product-cover" style="background-image:url(<%= firstSpecial["imgUrl"]; %>)"></div>             <% } %>             <div class="product-txt">                 <h2 class="product-title"><%= firstSpecial["promotionName"] %></h2>                 <div class="product-info">                 <% if (firstSpecial["promotionPrice"]) { %>                     <span class="price-ctn"><span class="money-symbol">¥</span><span class="price"><%= firstSpecial["promotionPrice"] %></span>起</span>                 <% } %>                 <% if (firstSpecial["promotionDiscount"]) { %>                     <span class="discount-ctn"><em><%= firstSpecial["promotionDiscount"] %></em></span>                 <% } %>                 </div>                 <% if (hasCountDown) { %>                 <div class="countdown-ctn J_countdown-ctn countdown-init" data-promotionStartTime="<%= firstSpecial["promotionStartTime"] %>" data-promotionDeadline="<%= firstSpecial["promotionDeadline"] %>">                     <span class="countdown-time countdown-day"></span>:<span class="countdown-time countdown-hour"></span>:<span class="countdown-time countdown-minute"></span>:<span class="countdown-time countdown-second"></span>                 </div>                 <% } %>             </div>         </td>         <% if (specials.length > 1) { %>             <% for(var i=1; i<3; i++) { %>                 <td class="other-specials" onclick="location.href=\'<%= specials[i]["url"] %>\'">                 <% if( isSpecialLazyload ){ %>                     <div class="specials-pic" data-bg-lazyload="<%= specials[i]["imgUrl"] %>"></div>                 <% } else { %>                     <div class="specials-pic" style="background-image:url(<%= specials[i]["imgUrl"] %>)"></div>                 <% } %>                 </td>             <% } %>         <% } %>         </tr>     </table>     <% } else if (specialsStyle == 1) { %>     <div class="specials-4-items">         <% var firstSpecial = specials[0]; %>         <% var hasCountDown = firstSpecial["promotionDeadline"] && firstSpecial["promotionStartTime"]; %>         <div class="countdown-specials J_countdown-specials <% if (!hasCountDown) { %>no-count<% } %>">             <a href="<%= firstSpecial["url"] %>">                 <% if (firstSpecial["title"]) { %>                 <span class="product-labels"><%= firstSpecial["title"] %></span>                 <% } %>                 <div class="product-cover">                 <% if( isSpecialLazyload ){ %>                     <img data-lazyload="<%= firstSpecial["imgUrl"]; %>">                 <% } else { %>                     <img src="<%= firstSpecial["imgUrl"]; %>">                 <% } %>                 </div>                 <h2 class="product-title"><%= firstSpecial["promotionName"] %></h2>                 <div class="product-info">                 <% if (firstSpecial["promotionPrice"]) { %>                     <span class="price-ctn"><span class="money-symbol">¥</span><span class="price"><%= firstSpecial["promotionPrice"] %></span>起</span>                 <% } %>                 <% if (firstSpecial["promotionDiscount"]) { %>                     <span class="discount-ctn"><em><%= firstSpecial["promotionDiscount"] %></em></span>                 <% } %>                 </div>                 <% if (hasCountDown) { %>                 <div class="countdown-ctn J_countdown-ctn countdown-init" data-promotionStartTime="<%= firstSpecial["promotionStartTime"] %>" data-promotionDeadline="<%= firstSpecial["promotionDeadline"] %>">                     <span class="countdown-time countdown-day"></span>:<span class="countdown-time countdown-hour"></span>:<span class="countdown-time countdown-minute"></span>:<span class="countdown-time countdown-second"></span>                 </div>                 <% } %>             </a>         </div>         <% if (specials.length > 1) { %>             <div class="other-specials">             <% for(var i=0; i<specials.length; i++) {             if (i > 0) { %>                 <% if( isSpecialLazyload ){ %>                     <a href="<%= specials[i]["url"] %>"><div class="specials-pic" data-bg-lazyload="<%= specials[i]["imgUrl"] %>"></div></a>                 <% } else { %>                     <a href="<%= specials[i]["url"] %>"><div class="specials-pic" style="background-image:url(<%= specials[i]["imgUrl"] %>)"></div></a>                 <% } %>             <% }} %>             </div>         <% } %>     </div>     <% } %> </section> <% } %>   <% if (data[\'themeAds_3\'] && data[\'themeAds_3\'].length > 0) { %> <div class="i-theme-activity-wrapper i-theme-activity-wrapper-3">     <% for(var i = 0; i < data[\'themeAds_3\'].length; i++) { %>     <% for(var j = 0; j < data[\'themeAds_3\'][i][\'blocks\'].length; j++) { %>     <% var themeAd = data[\'themeAds_3\'][i][\'blocks\'][j]; %>     <div class="i-theme-activity" style="background-color: <%= themeAd[\'backColor\'] ? themeAd[\'backColor\'] : \'\' %>;">         <div class="ta-head">             <a href="<%= themeAd[\'mUrl\'] ? themeAd[\'mUrl\'] : \'javascript:;\' %>">                 <% if (themeAd[\'imgUrl\']) { %>                 <img data-lazyload="<%= themeAd[\'imgUrl\'] %>" >                 <% } %>             </a>         </div>         <% if (themeAd[\'floors\'] && themeAd[\'floors\'].length > 0) { %>         <ul class="ta-floors">             <% for(var k = 0; k < themeAd[\'floors\'].length; k++) { %>                 <% var floor = themeAd[\'floors\'][k]; %>                 <% if (floor["ads"] && floor["ads"].length > 0) { %>                 <li class="ta-floor-type-<%= floor[\'style\'] ? floor[\'style\'] : 1 %>">                     <% for(var l = 0; l < floor[\'ads\'].length; l++) { %>                     <a href="<%= floor[\'ads\'][l][\'mUrl\'] %>" data-bg-lazyload="<%= floor[\'ads\'][l][\'imgUrl\'] %>"></a>                     <% } %>                 </li>                 <% } %>             <% } %>         </ul>         <% } %>     </div>     <% }} %> </div> <% } %>   <% var hotRecommend = data[\'hotRecommend\'] || {}; %> <% if( hotRecommend.content && hotRecommend.content.length > 0 ) { %> <section class="i-find i-hot-recommend">     <div class="find-header">         <h2><%= hotRecommend["title"] %></h2>     </div>     <div class="hot-recommend-ctn">         <table>         <% for(var i=0; i < hotRecommend.content.length; i++){ %>             <% if(i % 4 == 0){ %>             <tr>             <% } %>                 <td>                     <a class="thin-border" href="<%= hotRecommend.content[i]["url"] %>"><img data-lazyload="<%= hotRecommend.content[i]["imgUrl"] %>"></a>                 </td>             <% if(i % 4 == 3){ %>             </tr>             <% } %>         <% } %>         </table>     </div> </section> <% } %>   <% if (data[\'themeAds_4\'] && data[\'themeAds_4\'].length > 0) { %> <div class="i-theme-activity-wrapper i-theme-activity-wrapper-4">     <% for(var i = 0; i < data[\'themeAds_4\'].length; i++) { %>     <% for(var j = 0; j < data[\'themeAds_4\'][i][\'blocks\'].length; j++) { %>     <% var themeAd = data[\'themeAds_4\'][i][\'blocks\'][j]; %>     <div class="i-theme-activity" style="background-color: <%= themeAd[\'backColor\'] ? themeAd[\'backColor\'] : \'\' %>;">         <div class="ta-head">             <a href="<%= themeAd[\'mUrl\'] ? themeAd[\'mUrl\'] : \'javascript:;\' %>">                 <% if (themeAd[\'imgUrl\']) { %>                 <img data-lazyload="<%= themeAd[\'imgUrl\'] %>" >                 <% } %>             </a>         </div>         <% if (themeAd[\'floors\'] && themeAd[\'floors\'].length > 0) { %>         <ul class="ta-floors">             <% for(var k = 0; k < themeAd[\'floors\'].length; k++) { %>                 <% var floor = themeAd[\'floors\'][k]; %>                 <% if (floor["ads"] && floor["ads"].length > 0) { %>                 <li class="ta-floor-type-<%= floor[\'style\'] ? floor[\'style\'] : 1 %>">                     <% for(var l = 0; l < floor[\'ads\'].length; l++) { %>                     <a href="<%= floor[\'ads\'][l][\'mUrl\'] %>" data-bg-lazyload="<%= floor[\'ads\'][l][\'imgUrl\'] %>"></a>                     <% } %>                 </li>                 <% } %>             <% } %>         </ul>         <% } %>     </div>     <% }} %> </div> <% } %>   <% var findExcite = data[\'findExcite\'] || {}; %> <% if( findExcite.content && findExcite.content.length > 0 ) { %> <section class="i-find i-find-excite">     <div class="find-header thin-border">         <h2><%= findExcite["title"] %></h2>         <% var findExciteRight = data[\'findExciteRight\']; %>         <% if( findExciteRight && findExciteRight.length > 0 ) { %>         <div class="find-excite-brief<% if (data.signIn && data.signIn.length > 0) { %> has-right<% } %>">             <ul data-role="marquee" data-direction="vertical">             <% for(var i=0; i<findExciteRight.length; i++ ){ %>                 <li>                     <a href="<%= findExciteRight[i]["url"] %>">                         <% if ((!data.signIn) || (!data.signIn.length)) { %>                         <img <% if (i > 0) { %>data-<% } %>src="<%= findExciteRight[i]["imgUrl"] %>" class="avatar">                         <% } %>                         <q><%= findExciteRight[i]["title"] %></q>                     </a>                 </li>             <% } %>             </ul>         </div>         <% } %>         <% if (data.signIn && data.signIn.length > 0) { %>             <div class="find-excite-right">                 <a href="<%= data.signIn[0].url %>" data-bg-lazyload="<%= data.signIn[0].imgUrl %>"></a>             </div>         <% } %>     </div>     <div class="find-excite-detail">         <ul class="clearfix">         <% for(var j=0; j<findExcite.content.length; j++ ){ %>             <li>                 <a href="<%= findExcite.content[j]["url"] %>">                     <img data-lazyload="<%= findExcite.content[j]["imgUrl"] %>">                     <h3><%= findExcite.content[j]["title"] %></h3>                 </a>             </li>         <% } %>         </ul>     </div> </section> <% } %>   <% if (data[\'themeAds_5\'] && data[\'themeAds_5\'].length > 0) { %> <div class="i-theme-activity-wrapper i-theme-activity-wrapper-3">     <% for(var i = 0; i < data[\'themeAds_5\'].length; i++) { %>     <% for(var j = 0; j < data[\'themeAds_5\'][i][\'blocks\'].length; j++) { %>     <% var themeAd = data[\'themeAds_5\'][i][\'blocks\'][j]; %>     <div class="i-theme-activity" style="background-color: <%= themeAd[\'backColor\'] ? themeAd[\'backColor\'] : \'\' %>;">         <div class="ta-head">             <a href="<%= themeAd[\'mUrl\'] ? themeAd[\'mUrl\'] : \'javascript:;\' %>">                 <% if (themeAd[\'imgUrl\']) { %>                 <img data-lazyload="<%= themeAd[\'imgUrl\'] %>" >                 <% } %>             </a>         </div>         <% if (themeAd[\'floors\'] && themeAd[\'floors\'].length > 0) { %>         <ul class="ta-floors">             <% for(var k = 0; k < themeAd[\'floors\'].length; k++) { %>                 <% var floor = themeAd[\'floors\'][k]; %>                 <% if (floor["ads"] && floor["ads"].length > 0) { %>                 <li class="ta-floor-type-<%= floor[\'style\'] ? floor[\'style\'] : 1 %>">                     <% for(var l = 0; l < floor[\'ads\'].length; l++) { %>                     <a href="<%= floor[\'ads\'][l][\'mUrl\'] %>" data-bg-lazyload="<%= floor[\'ads\'][l][\'imgUrl\'] %>"></a>                     <% } %>                 </li>                 <% } %>             <% } %>         </ul>         <% } %>     </div>     <% }} %> </div> <% } %>   <!-- 热门产品推荐 --> <section class="i-separator">     <div class="line"></div>     <div class="label">         <i class="findmore"></i><span>发现更多精彩</span>     </div> </section>  <section class="J_product_rec z-products"></section>  <a href="javascript:;" class="to-top J_toTop hidden"></a> <% if (data.telConsult) { %>     <a href="tel:<%= data.telConsult %>" class="call-phone J_callPhone"></a> <% } %>';e.exports=i}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){!function(){var t=[i(2),i(6),i(11),i(10),i(16),i(18)];(function(t,e,i,n,o,a){function r(e){t("#city").text(e.name),c&&c.replaceNaviUrl(e.letter),l=e,l.localGps=!0}var s="hide",l=e.getHistoryCity()||{name:"上海",code:2500,letter:"sh"};0===t("#userGPS").length&&r(l),e.checkPositionChanged(function(t,e){r(t)});var c={init:function(){this.param={type:"64",key:"",cityLetter:l.letter,container:t("#J_header"),headerBar:t("#J_header").find(".J_header-bar"),searchHolder:t("#J_header").find(".J_hs-holder"),searchContainer:t("#J_header").find("#J_header-search"),inputEl:t("#J_header").find(".J_hs-input")},this.initTel(),this.bindBar(),this.initNaviUrl(),this.initNaviScroll(),this.handlePopState(),this.initSticky(),o.init(l,this.param),this.initAppView()},initTel:function(){e.getTel(function(e){var i="",n=t(".J_header-navi-pop .tel");for(var o in e)i+=e[o],3!=o&&6!=o||(i+="-");n&&(n.find(".tel_inner").attr("href","tel:"+e),n.find(".tel_inner").find(".tex").text(i.substr(0,12)),n.find(".tel_inner").on("click",function(t){t.stopPropagation()}))})},handlePopState:function(){var t=this;window.onpopstate=function(e){t.resetSearch(),o.renderHistory()}},initAppView:function(){var t=this,e=t.param.container;window.G&&G.isApp&&e.addClass("app-header")},initNaviUrl:function(){var t=this;t.replaceNaviUrl("sh"),e.getUserGPS(function(e){e&&e.letter&&t.replaceNaviUrl(e.letter)})},replaceNaviUrl:function(e){var i=this,n=i.param.container.find(".J_header-navi-pop ul a");n.each(function(i,n){var o=t(n);o.attr("data-url")&&o.attr("href",o.attr("data-url").replace(/{cityLetter}/g,e))})},initSticky:function(){var t=this,e=t.param.container;e.hasClass("sticky_head")&&a({elem:e})},resetSearch:function(){var e=this,i=(e.param.container,e.param.headerBar),n=e.param.searchContainer,a=e.param.inputEl,r=n.find(".search_clear");a.val("").blur(),r.removeClass("active"),i.removeClass(s),n.addClass(s),t("body").removeClass("fullpage-fixed"),o.resetSearch()},initNaviScroll:function(){var e=this,i=e.param.container,n=i.find(".J_header-navi-pop"),o={x:0,y:0,top:0,left:0},a=!1;n.find("ul").off().on("touchstart",function(e){o.x=e.changedTouches[0].clientX,o.y=e.changedTouches[0].clientY,0==o.top&&(o.top=t(this).scrollTop()),0==o.left&&(o.left=t(this).scrollLeft())}).on("touchmove",function(e){return t(this).scrollTop(o.top-e.changedTouches[0].clientY+o.y),t(this).scrollLeft(o.left-e.changedTouches[0].clientX+o.x),a=!0,!1}).on("touchend",function(t){if(a=!1,0!=o.x||0!=o.y){var e=!0;return(t.changedTouches[0].clientY-o.y>20||t.changedTouches[0].clientX-o.x>20)&&(e=!1),o={x:0,y:0,top:0,left:0},e}})},bindBar:function(){function e(){y=!y,f.toggleClass("expanded"),h.toggleClass("active"),h.find("img[data-src]").each(function(e,i){var n=t(i).attr("data-src");t(i).removeAttr("data-src").attr("src",n)}),m.toggleClass("active"),g.toggleClass(v)}var i=this,n=i.param.container,a=i.param.headerBar,r=i.param.searchHolder,l=i.param.searchContainer,c=i.param.inputEl,d=l.find(".search_clear"),u=l.find(".search_cancel"),p=l.find(".search_button"),f=a.find(".J_header-navi-trigger"),h=n.find(".J_header-navi-pop"),m=t(".J_header-mask"),g=t("body"),v="fullpage-fixed",y=!1;r.on("click",function(t){a.addClass(s),l.removeClass(s),g.addClass(v),c.focus()}),c.on("focus",function(){""!==this.value&&d.addClass("active")}).on("input",function(){var t=this.value;o.onInputChanged(t),""===t?d.removeClass("active"):d.addClass("active")}).on("keydown",function(t){13==t.keyCode&&(i.param.key=this.value.trim()?this.value.trim():this.getAttribute("data-defaultValue"),o.search(i.param.key))}),u.on("click",function(){i.resetSearch()}),d.on("tap",function(){c.val(""),t(this).removeClass("active"),o.onInputChanged("")}),p.on("tap",function(){i.param.key=c.val().trim()?c.val().trim():c.attr("data-defaultValue"),o.search(i.param.key)}),f.on("click",function(){e()}),h.on("click",function(){e()}),m.on("click",function(){e()}),g.on("touchmove",function(t){return y?(t.preventDefault(),!1):void 0})}};c.init()}).apply(null,t)}()},function(t,e,i){var n;n=function(require,t,e){var n=i(2),o=i(11),a=i(10),r=i(17),s="hide",l=window.location.host;0!==l.indexOf("dynamic")&&(l="dynamic."+l),l="//"+l;var c='<% if(data.list && data.list.length > 0){ %>         <% for(var i = 0; i < data.list.length; i++){ %>             <% var item = data.list[i]; %>             <% if (i == 0) { %>             <li class="link-li J_suggest-link" data-appurl="<%= item.appUrl %>" data-url="<%= item.mUrl %>" data-name="<%= item.keyName %>">                 <h1><%= item.keyName %></h1>                 <% if (item.productTotalNum){ %>                     <span class="tip">约<%= item.productTotalNum %>个结果</span>                 <% } %>                 <% if (item.childList && item.childList.length) { %>                 <ul class="sub-ul">                     <% for(var j = 0; j < item.childList.length; j++){ %>                     <% var subItem = item.childList[j]; %>                     <li class="link-li J_suggest-link" data-appurl="<%= subItem.appUrl %>" data-url="<%= subItem.mUrl %>" data-name="<%= item.keyName %>&nbsp;&nbsp;<%= $productName(subItem.displayType) %>">                         <div class="sub-title">                             <span class="title-icon bg-<%= $productTypeIcon(subItem.displayType) %>"><i class="icon-<%= $productTypeIcon(subItem.displayType) %>"></i></span>                             <h2><em><%= item.keyName %></em>的<%= $productName(subItem.displayType) %></h2>                             <% if (subItem.count){ %>                                 <span class="tip">约<%= subItem.count %>个结果</span>                             <% } else if (subItem.displayType == 56) { %>                                 <span class="tip">随心搭配</span>                             <% } %>                         </div>                         <% if(subItem.list && subItem.list.length > 0){ %>                         <div class="tag-ctn">                             <% for(var k = 0; k < subItem.list.length; k++){ %>                                 <a href="javascript:;" class="J_suggest-link" data-appurl="<%= subItem.list[k].appUrl %>" data-url="<%= subItem.list[k].mUrl %>" data-name="<%= item.keyName %>&nbsp;&nbsp;<%= subItem.list[k].productName %>"><%= subItem.list[k].productName %></a>                             <% } %>                         </div>                         <% } %>                     </li>                     <% } %>                 </ul>                 <% } %>             </li>             <% } else { %>             <li class="lr-li J_suggest-link" data-appurl="<%= item.appUrl %>" data-url="<%= item.mUrl %>" data-name="<%= item.keyName %>">                 <h1><%= item.keyName %></h1>                 <% if (item.childList && item.childList.length) { %>                     <div class="right-labels">                     <% for(var j = 0; j < item.childList.length; j++){ %>                         <% if (j < 3) { %>                             <a href="javascript:;" class="J_suggest-link" data-appurl="<%= item.childList[j].appUrl %>" data-url="<%= item.childList[j].mUrl %>" data-name="<%= item.keyName %>&nbsp;&nbsp;<%= item.childList[j].name %>"><%= item.childList[j].name %></a>                         <% } %>                     <% } %>                     </div>                 <% } %>             </li>             <% } %>         <% } %>     <% } %>',d={init:function(t,e){this.param={cityInfo:t,container:e.container,inputEl:e.inputEl,searchHolder:e.searchHolder},this._bindPop(),this._bindSuggestion(),this._loadHot(0),this.renderHistory()},_bindPop:function(){var t=this,e=t.param.container,i=e.find(".J_hs-hotword"),o=e.find(".J_hs-history");i.on("tap",".item",function(){t.search(this.innerHTML)}),o.on("tap","li",function(){var e=n(this);if(e.attr("data-url")){var i=e.attr("data-url");t.storageSave({type:"url",storeData:{name:e.text(),url:i}}),t._urlRedirect(i)}else t.search(e.text())}),o.find(".J_hs-clear-history").on("tap",function(){a({message:"确定清空搜索历史？",okCallback:function(){localStorage.clear("M_SEARCH_SEARCH_HISTORY"),o.addClass(s).find("ul").empty()}})})},_urlRedirect:function(t){window.location.href=t},_bindSuggestion:function(){var t=this,e=t.param.container,i=e.find(".J_hs-suggestion");i.on("tap",".J_suggest-link",function(e){e.preventDefault(),e.stopPropagation();var i=n(this),o="";o=window.G&&G.isApp&&i.attr("data-appurl")?i.attr("data-appurl"):i.attr("data-url"),i.attr("data-key")?t.search(i.attr("data-key")):o&&(t.storageSave({type:"url",storeData:{name:i.attr("data-name"),url:o}}),t._urlRedirect(o))})},search:function(t){function e(){window.location.href="/m2015/search/list?searchType=1&catId=0&poiId=0&productType=0&isDiversion=1&keyword="+o}var i=this;i.param.key=t;var o=encodeURIComponent(t);i.storageSave({type:"search"}),/^\d+$/.test(o)?n.ajax({url:l+"/api/search/common/SearchById/d/"+JSON.stringify({productId:o}),dataType:"json",xhrFields:{withCredentials:!0},success:function(t){if(t&&t.success&&t.data&&t.data.productType){var i=r.createDetailURL(t.data.productType,t.data.productId);window.location.href=i}else e()},error:function(){e()}}):e()},onInputChanged:function(t){var e=this.param.container;""===t?(e.find(".search_pop").removeClass(s),e.find(".search_hot").removeClass(s),e.find(".search_history li").length&&e.find(".search_history").removeClass(s),e.find(".search_suggestion").addClass(s),e.find(".J_hs-result").addClass(s)):this._getSuggestion(t)},_getSuggestion:function(t){var e=this,i=e.param.container,o=e.param.inputEl,a=i.find(".J_hs-result"),r=i.find(".search_suggestion"),c=t.trim(),d={d:JSON.stringify({keyword:c})};e.param.cityInfo.localGps&&(d.c=JSON.stringify({cc:e.param.cityInfo.code})),clearTimeout(e.timer),e.timer=setTimeout(function(){n.ajax({url:l+"/api/search/Association",data:d,dataType:"json",xhrFields:{withCredentials:!0},success:function(t){if(t&&t.success){var l=t.data,d=o.val().trim();if(d!==c)return;if(""===d)return a.addClass(s).empty(),void r.addClass(s);l.list&&n.isArray(l.list)&&l.list.length?(r.removeClass(s),e._renderSuggestion(t.data)):(a.addClass(s),i.find(".search_hot").addClass(s),i.find(".search_history").addClass(s),r.addClass(s))}}})},200)},_renderSuggestion:function(t){var e=this,i=e.param.container,n=i.find(".J_hs-suggestion"),a=c;o.helper("$productTypeIcon",function(t){return{0:"line2",6:"hotel3",4:"ticket",56:"hotelplane",5:"flighticon",18:"trainticket",19:"raiders"}[""+parseInt(t,10)]}),o.helper("$productName",function(t){return{0:"产品线路",6:"酒店",4:"景点门票",56:"机酒套餐",5:"机票",18:"火车票",19:"攻略"}[""+parseInt(t,10)]});var r=o.compile(a),s=r({data:t});n.empty().append(s)},_loadHot:function(){var t=this,e=t.param.container,i=t.param.inputEl,o=t.param.searchHolder,a=e.find(".J_hs-hotword"),r="",c=function(t){if(t){var e=t.tip,r=t.hotKeyList;if(e&&(i.attr({placeholder:e,"data-defaultValue":e}),o.html('<i class="icon icon-search4"></i>'+e)),r&&r.length){var l=r.length-r.length%5,c=n.map(r,function(t,e){return l>e?'<li><div class="item">'+t+"</div></li>":""});a.removeClass(s).find(".keys").html(c.join(""))}}},d=function(){n.ajax({url:l+"/api/search/HotKeywords/index?c="+JSON.stringify({cc:t.param.cityInfo.code}),dataType:"json",xhrFields:{withCredentials:!0},success:function(e){if(e&&e.success&&e.data){c(e.data);var i=n.extend(e.data,{expire:+new Date+6e5,cityCode:t.param.cityInfo.code});try{e.data.hotKeyList&&e.data.hotKeyList.length&&localStorage.setItem("M_SEARCH_SEARCH_HOTWORD",JSON.stringify(i))}catch(o){}}}})};if(window.localStorage&&localStorage.getItem("M_SEARCH_SEARCH_HOTWORD")){try{r=JSON.parse(localStorage.getItem("M_SEARCH_SEARCH_HOTWORD"))}catch(u){}r&&r.expire&&r.expire>+new Date&&r.cityCode===t.param.cityInfo.code?c(r):d()}else d()},renderHistory:function(){var t=this,e=window.localStorage&&localStorage.getItem("M_SEARCH_SEARCH_HISTORY"),i=t.param.container,o=i.find(".J_hs-history"),a="",r=[];if(e){try{r=JSON.parse(e)}catch(l){}if(n.isArray(r)&&r.length){o.removeClass(s),o.find("ul").empty();for(var c=0;c<r.length;c++)a+=n.isPlainObject(r[c])&&r[c].url?'<li data-url="'+r[c].url+'">'+r[c].name+"</li>":"<li>"+r[c]+"</li>";o.find("ul").html(a)}}},storageSave:function(t){var e=this,i=window.localStorage&&localStorage.getItem("M_SEARCH_SEARCH_HISTORY"),o=null,a=t.type||"search",r="url"==a&&t.storeData?t.storeData:e.param.key;if(r){if(i)try{o=JSON.parse(i)}catch(s){return}else o=[];if(n.isArray(o)&&o.length){for(var l=0;l<o.length;l++)if(r.name){if(n.isPlainObject(o[l])&&o[l].name===r.name){o.splice(l,1);break}}else if(o[l]===r){o.splice(l,1);break}o.length>=8&&(o=o.slice(0,7))}o.unshift(r),i=JSON.stringify(o);try{localStorage.setItem("M_SEARCH_SEARCH_HISTORY",i)}catch(s){}}},resetSearch:function(){var t=this.param.container;t.find(".search_pop").removeClass(s),t.find(".J_hs-result").addClass(s).empty(),t.find(".search_suggestion").addClass(s),this.param.key=""}};e.exports=d}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(require,t,e){var i="http://m.tuniu.com",n="http://dynamic.m.tuniu.com",o={m:function(t,e){var o="";switch(t){case 1:o=i+"/tours/"+e;break;case 2:o=i+"/package/"+e;break;case 3:o=i+"/cruise/"+e;break;case 4:o=i+"/menpiao/t_"+e;break;case 7:o=i+"/minute/"+e;break;case 8:o=i+"/drive/"+e;break;case 9:o=i+"/visa/visa_"+e;break;case 20:o=i+"/cruise/"+e;break;case 22:o=i+"/local/detail/"+e;break;case 102:o=i+"/tours/"+e;break;case 103:o=i+"/drive/"+e;break;case 106:o=i+"/tours/"+e;break;case 107:o=i+"/visa/visa_"+e;break;case 108:o=n+"/h5/package/"+e;break;case 110:o=i+"/drive/"+e;break;case 5:case 6:case 10:case 11:case 12:case 15:case 18:case 21:case 30:case 96:case 97:case 98:case 101:}return o},app:function(t,e){var i="";switch(t){case 1:case 2:case 3:case 4:case 6:case 7:case 8:case 9:case 10:case 102:case 106:case 108:case 110:i="tuniuapp://travel/product_detail?product_id="+e+"&product_type="+t;break;case 103:i=this.m(t,e);break;case 22:i=this.m(t,e);break;case 20:case 5:case 11:case 12:case 15:case 18:case 21:case 30:case 96:case 97:case 98:case 101:default:i=this.m(t,e)}return i}},a={m:function(t,e,i,n,o){var a="";return a},app:function(t,e,i,n,o){var a="";return a=n&&o?"tuniuapp://travel/poidetail?poi_id="+t+"&poi_type="+e+"&poi_name="+i+"&poi_lat="+n+"&poi_lng="+o:"tuniuapp://travel/poidetail?poi_id="+t+"&poi_type="+e+"&poi_name="+i}},r={createDetailURL:function(t,e,i){var n=parseInt(t,10),a=e;return i?o.app(n,a):o.m(n,a)},createPoiDetailUrl:function(t,e,i,n,o,r){return r?a.app(t,e,i,n,o):a.m(t,e,i,n,o)},createTripUrl:function(t,e){return e?"tuniuapp://travel/tripdetail?trip_id="+t:i+"/trips/"+t}};e.exports=r}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(require,t,e){"use strict";function n(t,e,i){var n=t+":",o=document.createElement("test"),a=o.style;return i?a.cssText=n+e:a.cssText=n+["-webkit-","-moz-",""].join(e+";"+n)+e+";",-1!==a[t].indexOf(e)}function o(t,e){var i=null,e=e||100;return function(){var n=this,o=arguments;i?clearTimeout(i):t.apply(n,o),i=setTimeout(function(){i=null},e)}}function a(t){function e(){var t=r(b);_=r(window).height(),C=t.offset(),k=("unfix"==P?c.offset().top:y.offset().top)+(v?0:t.scrollTop())}function i(t,e){t.css({width:t.css("width"),top:e,marginTop:0,position:"fixed"}),y&&t.after(y)}function a(t){t.css({marginTop:w,top:S,position:x}),y&&y.remove()}function s(t){t.css({position:"absolute",top:_-p-T-C.top})}function l(){A=m.scrollTop();var t=0;return p&&A+T+d+p>_?(!E&&s(c),void(P="fix_bottom")):(h&&(t=h.offset().height),void(d>k-A&&(!t||k-A+t>d)?(f&&"function"==typeof f&&f(),"fix"!==P&&(!E&&i(c,d),u&&u({status:"fix",elem:c}),P="fix")):"unfix"!==P&&(!E&&a(c),u&&u({status:"unfix",elem:c}),P="unfix")))}var c=t.elem,d=t.top||0,u=t.cb||null,p=t.bottom||0,f=t.onFixed||null,h=t.container||null,m=r(t.win||window),g=t.hasOwnProperty("isImmediately")?t.isImmediately:!0,v=!t.win||t.win==window;if(c=r(c),!c.length)return!1;var y=null,b=c.get(0).offsetParent,x=c.css("position"),S=c.css("top"),w=(c.css("float"),c.css("marginTop")),k=c.offset().top,T=c.size().height,_=r(window).height(),C=r(b).offset(),A=0,E=n("position","sticky");("static"===x||"relative"===x)&&(y=r("<div>").css({width:c.css("width"),height:c.css("height"),margin:c.css("margin"),padding:c.css("padding"),borderTop:c.css("borderTop"),borderBottom:c.css("borderBottom"),"float":c.css("float"),visibility:"hidden"})),E&&c.css({position:"-webkit-sticky",top:d,bottom:p});var I=o(e),P="unfix";m.on("orientationchange",function(){e()}),m.on("scroll",function(){I(),l()}),g&&r(document).ready(l)}var r=i(2);return a}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}]);
;+function(e){e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame;e.d=e.d instanceof Date?e.d:new Date;var t=navigator.userAgent;var n={u:e.location.href,s:e.screen.width+"x"+e.screen.height,f:0,l:0,t:0,o:0,r:0,a:9,e:e.elk||""};var o=document.cookie.match(new RegExp("(^| )deviceType=([^;]*)(;|$)"));if(o){n.a=+o[2]}if(e.localStorage&&e.localStorage.getItem("deviceType"))n.a=+e.localStorage.getItem("deviceType");if(/ipad/gi.test(t)){n.a=3}if(!/ipad|iphone|ipod|android|windows phone/gi.test(t)){n.a=4}var a=20;var i=new Date;var r=0;var d=0;var c=new Date;function f(){if(e.requestAnimationFrame){e.requestAnimationFrame(function(){r++;var t=new Date;if(t-c>1e3){var o=d*1e3/(t-c);if(/fps/i.test(e.location.href))s(o);if(o<n.l||n.l==0){n.l=o>>0;n.t=document.body.scrollTop||document.documentElement.scrollTop||0}c=t;d=0}d++;f()})}}function s(e){var t=document.getElementById("FPS");if(!t){t=document.createElement("div");t.style.cssText="position:fixed;right:0px;top:0px;font-size:12px;color:#fff;background-color:#666;";t.id="FPS";document.body.appendChild(t)}t.innerHTML=e}function l(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else{e.attachEvent("on"+t,n)}}l(e,"load",function(){n.o=new Date-e.d});var u=false;var p=function(t){if(u)return;u=true;n.f=r*1e3/(new Date-i)>>0;var o=new XMLHttpRequest;var a=[];for(var d in n){a.push(d+"="+encodeURIComponent(n[d]))}a=a.join("&");var c=e.location.href.indexOf("https")==0?"https://":"http://";o.open("get",c+"api.tuniu.com/stat/save?"+a,t||false);o.send(null)};l(e,"beforeunload",p);l(e,"unload",p);setTimeout(function(){p(true)},1e4);e.PERFORMANCE=n;f()}(window);